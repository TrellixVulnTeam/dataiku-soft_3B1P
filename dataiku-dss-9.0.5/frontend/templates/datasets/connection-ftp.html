<form class="dkuform-horizontal" ng-controller="FTPDatasetController" ng-init="dataset.params.$canUrlMode = true">
    <div class="row-fluid">
        <div class="span7 generic-white-box">
            <div fs-provider-settings provider-type="'FTP'" provider-connection-type="'FTP'" default-path="''" config="dataset.params" path-change-needs-confirm="dataset.managed" on-change="onCoreParamsChanged()">
            </div>
            <div include-no-scope="/templates/datasets/fragments/fs-generic-advanced-options.html" />
        </div>

        <div class="span5">
            <button class="btn btn--secondary" ng-click="listFiles('FTP')"> <i class="icon-refresh" />List files
            </button>
            <div include-no-scope="/templates/datasets/fragments/fs-files-listing.html" />
        </div>

    </div>

    <button style="margin-top: 20px" class="btn btn--primary btn--wide" ng-click="detectOrPreview()"> <i class="icon-refresh" />&nbsp;Test
    </button>
</form>