<div class="modal modal3">
    <form class="dkuform-modal-wrapper" global-keydown="{'esc': 'cancel();' }">
        <!-- Eat the focus so that a dangerous button don't get it -->
        <input type="hidden" autofocus="true" />
        <dku-modal-header modal-title="Switching to an existing branch" modal-close="cancel"></dku-modal-header>
        <div class="modal-body tight-body" >
            <div class="alert alert-warning">
                <p>
                    Switching a project to an existing branch will impact all users currently working on this project.
                    It may cause them to lose the changes they are currently working on.
                </p>
            </div>

            <div class="alert alert-info">
                <p>
                Switching a project to an existing branch will not have any impact on any data.
                This could lead to some data becoming orphan, or to some datasets pointing to stale data.
                </p>
                <p>
                    Input datasets will remain unchanged, but you can clear all datasets that are outputs of recipes.
                </p>
                <label class="checkbox">
                    <input type="checkbox" ng-model="clearOutputDatasets">
                    Clear output and intermediate datasets
                </label>
            </div>

            <div class="alert alert-warning" ng-if="hasDependencyWarnings">
                <p >This project currently exposes datasets to other projects. Switching to another branch might break the following dependencies:</p>
                <ul>
                    <li ng-repeat="message in dependencyWarnings.messages">{{message.details}}</li>
                </ul>
            </div>
        </div>

        <div class="modal-footer modal-footer-std-buttons">
            <div class="pull-right">
                <!-- Dangerous modals don't validate on enter-->
                <button type="button" class="btn btn--text btn--secondary" ng-click="dismiss()">Cancel</button>
                <button id="qa_generic-danger-button" type="button" class="btn btn--text btn--danger" ng-click="switchBranch()">Switch</button>
            </div>
        </div>
    </form>
</div>
