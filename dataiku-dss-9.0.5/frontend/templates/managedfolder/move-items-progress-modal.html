<div class="modal modal3 future-progress-modal">
	<div dku-modal-header modal-title="{{ title }}" />
	<div class="modal-body">
		<div block-api-error />

        <div ng-if="!finalResponse && !done">
            <progress-bar neutral="{{percentage}}" allow-empty="true" class="progress-striped" active="true"  ng-if="futureResponse != null"></progress-bar>
            <progress-bar error="{{percentage}}"   allow-empty="true" class="progress"         active="false" ng-if="futureResponse == null"></progress-bar>
            <div class="future-progress-bar">
                <div style="width: {{percentage}}%"></div>
            </div>
            <p ng-bind-html="stateLabels"></p>
        </div>
        <div ng-if="!finalResponse && done">
            <p ng-if="aborted">Aborted</p>
        </div>

		<div ng-if="finalResponse">
			<div info-messages-raw-list-with-alert="finalResponse" />
		</div>
	</div>

	<div class="modal-footer modal-footer-std-buttons">
		<div ng-show="!finalResponse && !done" class="running-time pull-left">
			started {{futureResponse.runningTime | friendlyDurationShort}} ago
		</div>

        <button ng-show="!finalResponse && !done" type="button" ng-click="abort()" class="btn btn--text btn--danger">Abort</button>
        <button ng-show="done" type="button" ng-click="dismiss()" class="btn btn--text btn--danger">Close</button>
	</div>
</div>