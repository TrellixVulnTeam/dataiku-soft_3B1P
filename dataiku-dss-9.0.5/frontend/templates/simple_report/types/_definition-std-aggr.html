<div ng-controller="StdAggregatedChartDefController">
    <div class="chartdef-line horizontal-flex">
        <div class="noflex chartdef-line-header" style="width: 53px">Show</div>
        <!-- We have two dimensions so the measure becomes mono-valued -->

        <div class="noflex chartdef-dropzone chartdef-dropzone-mono" ng-if="chart.def.genericDimension0.length && chart.def.genericDimension1.length" ng-class="{'empty':chart.def.genericMeasures.length==0, 'notempty': chart.def.genericMeasures.length > 0}">
            <div class="chartdef-dropzone-header">
                <div contextual-menu ng-click="toggleContextualMenu($event)" style="cursor:pointer; position:relative" class="y-axis-contextual-menu qa_charts_y-axis-contextual-menu">
                    <div data-block="measure-header" />
                </div>
            </div>
            <div data-block="measure-placeholder"  class="empty-placeholder" />
            <div class="chartdef-dropzone-main qa_charts_measure-dropzone" monovalued-std-aggr-measure-zone list="chart.def.genericMeasures" accept-callback="acceptMeasure" />
        </div>

        <!-- 0 or 1 dimension, measure is multi-valued -->
        <div class="flex chartdef-dropzone chartdef-dropzone-multi" ng-if="!chart.def.genericDimension0.length || !chart.def.genericDimension1.length" ng-class="{'empty':chart.def.genericMeasures.length==0, 'notempty': chart.def.genericMeasures.length > 0}">
            <div class="chartdef-dropzone-header">
                <div contextual-menu ng-click="toggleContextualMenu($event)" style="cursor:pointer; position:relative" class="y-axis-contextual-menu qa_charts_y-axis-contextual-menu">
                    <div data-block="measure-header" />
                </div>
            </div>
            <div data-block="measure-placeholder"  class="empty-placeholder" />
            <div class="chartdef-dropzone-main qa_charts_measure-dropzone" multivalued-std-aggr-measure-zone list="chart.def.genericMeasures" accept-callback="acceptMeasure" />
        </div>
    </div>

    <div class="chartdef-line" style="margin-top: 10px">
        <div class="dibvam chartdef-line-header" style="width: 50px">By</div>
        <div class="dibvam chartdef-dropzone chartdef-dropzone-mono" ng-class="{'empty':chart.def.genericDimension0.length==0, 'notempty': chart.def.genericDimension0.length > 0}">
            <div class="chartdef-dropzone-header">
                <div contextual-menu ng-click="toggleContextualMenu($event)" style="cursor:pointer; position:relative" class="x-axis-contextual-menu qa_charts_x-axis-contextual-menu">
                    <div data-block="dim0-header" />
                </div>
            </div>
            <div data-block="dim0-placeholder" class="empty-placeholder" />
            <div class="chartdef-dropzone-main qa_charts_dimension0-dropzone" monovalued-std-aggr-dimension-zone list="chart.def.genericDimension0" accept-callback="acceptDimension" />
        </div>
        <div class="dibvam" ng-if="chart.def.genericDimension0.length || chart.def.genericDimension1.length" data-block="dim1-zone">
            <div class="dibvam chartdef-line-header mleft">And</div>

            <div class="dibvam chartdef-dropzone chartdef-dropzone-mono" ng-class="{'empty':chart.def.genericDimension1.length==0, 'notempty': chart.def.genericDimension1.length >0}">
                <div class="chartdef-dropzone-header">
                    <div contextual-menu ng-click="toggleContextualMenu($event)" style="cursor:pointer; position:relative">
                        <span class="header-btn"> <i class="icon-dku-color_picker_2" style="font-size: 12px" />&nbsp; <i class="icon-caret-down" /></span>
                        <div class="contextualMenu fixed-contextual-menu-align-left" ng-show="contextualMenu">
                            <div include-no-scope="/templates/simple_report/config/discrete-color-menu.html" />
                        </div>
                    </div>
                </div>
                <div data-block="dim1-placeholder"  class="empty-placeholder" />
                <div class="chartdef-dropzone-main qa_charts_dimension1-dropzone" monovalued-std-aggr-dimension-zone list="chart.def.genericDimension1" is-second-dimension="true" accept-callback="acceptDimension" />
            </div>

        </div>
    </div>
</div>