<div ng-controller="CustomPythonStepController">
    <div ng-include ="'/templates/scenarios/fragments/step-header.html'"></div>
     <div class="alert alert-info">
        This step runs Python code, which can use the Scenario API.
    </div>
	<form name="setupForm" class="dkuform-horizontal" >
        <div ng-if="step.params.envSelection" code-env-selection-form="step.params.envSelection" env-lang="'PYTHON'" selection-label="'Code env'"></div>
		<div class="control-group script-edition">
			<label class="control-label">Script</label>
            <div class="controls">
		        <textarea ng-model="step.params.script" ui-codemirror="codeMirrorSettingService.get('text/x-python')"></textarea>
			</div>
		</div>
	</form>
    <hr />
    <form name="setupForm" class="dkuform-horizontal" >
        <div class="control-group">
            <label class="control-label">Ignore failure</label>
            <div class="controls">
                <input type="checkbox" ng-model="step.params.proceedOnFailure"></input>
                <span class="help-inline">Continue the scenario even if the script fails</span>
            </div>
        </div>
    </form>
    <div ng-include ="'/templates/scenarios/fragments/step-run-condition.html'"></div>
</div>