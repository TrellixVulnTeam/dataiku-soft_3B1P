<span class="diagnostics-modal">
    <span ng-if="!displayPopup" class="text-diagnostics"><span ng-show="iconPlacement==='left'" class="mright4" diagnostic-icon size="{{iconSize}}"></span>{{textContent}}<span ng-show="iconPlacement==='right'" class="mleft4" diagnostic-icon size="{{iconSize}}"></span></span>
    <span ng-if="displayPopup" class="text-diagnostics diagnostics-popup-icon" dku-inline-popover placement="top" container="body" on="hover" popover-class="sidekick-alert">
        <content title="">
            <div>
                <sidekick-alert>
                    <b>Diagnostics</b>
                    <div ng-if="!popupContent">
                        <div ng-repeat="(type, messages) in filteredDiagnostics" >
                            <b>{{type}}</b>
                            <div ng-repeat="msg in messages track by $index">
                            {{msg | limitTo:maxLength}}<span ng-if="msg.length > maxLength">&hellip;</span>
                            </div>
                        </div>
                        <div ng-if="diagnostics.length > maxDiagnostics">&hellip;</div>
                    </div>
                    <div ng-if="popupContent">{{popupContent}}</div>
                </sidekick-alert>
            </div>
        </content>
        <label>
            <span ng-show="iconPlacement==='left'" class="mright4" diagnostic-icon size="{{iconSize}}"></span>{{textContent}}<span ng-show="iconPlacement==='right'" class="mleft4" diagnostic-icon size="{{iconSize}}"></span>
        </label>
    </span>
</span>