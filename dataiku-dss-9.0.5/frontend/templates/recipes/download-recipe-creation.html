<div ng-controller="DownloadRecipeCreationController" class="modal modal3 download-visual-recipe-modal io-modal" auto-size="false">
    <div class="vertical-flex h100">
        <div dku-modal-header-with-totem modal-class="noflex" modal-title="New Download recipe" modal-totem="icon-visual_download_recipe"></div>
        <form class="flex dkuform-modal-wrapper dkuform-horizontal dkuform-horizontal-wider" name="newRecipeForm">
            <div class="fh">
                 <div class="vertical-flex h100">
                    <div block-api-error></div>
                    <div class="recipe-modal-io modal-body flex">
                        <div class="fh">
                            <div class="h100">
                                <div class="vertical-flex h100">
                                    <div class="flex">
                                        <div include-no-scope="/templates/recipes/io/visual-recipe-creation-select-folder.html" ng-show="io.newOutputTypeRadio == 'select'"></div>
                                        <div include-no-scope="/templates/recipes/io/recipe-creation-download-recipe.html" ng-show="io.newOutputTypeRadio == 'new-odb'"></div>
                                    </div>
                                    <div class="noflex dku-switches">
                                        <div style="clear: both;"></div>
                                        <a ng-click="io.newOutputTypeRadio = 'new-odb';" ng-class="{'selected' : io.newOutputTypeRadio == 'new-odb'}">New folder</a>
                                            |
                                        <a ng-click="io.newOutputTypeRadio = 'select';" ng-class="{'selected' : io.newOutputTypeRadio == 'select'}">Use existing</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="noflex modal-footer modal-footer-std-buttons" data-block="buttons">
                        <button type="button" class="btn btn--text btn--secondary" ng-click="dismiss()">Cancel</button>
                        <button type="submit"
                            ng-disabled="!!creatingRecipe"
                            disabled-if="!formIsValid()"
                            disabled-message="Cannot create the recipe. Check inputs and/or outputs requirements."
                            class="btn btn--text btn--primary"
                            ng-click="createRecipe(false)">
                            Create recipe
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
