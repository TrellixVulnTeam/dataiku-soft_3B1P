<div ng-controller="RRecipeController" code-based-recipe-base code-based-recipe-autofill data-extend-template="/templates/layouts/code-based-recipe-editor-layout.html">

    <div class="mainPane code-based-recipe-main-zone vertical-flex h100" data-block="recipeEditor">
        <div block-api-error />

        <div code-snippet-editor
            code="script.data"
            sample-type="'R'"
            categories="['R-std-dkuapi', 'R-std-3rd', 'user-R-std']"
            save-category="'user-R-std'"
            editor-options="editorOptions"
            resolve-code-for-preview-func="resolveCodeForPreviewFunc"
            resolve-code-for-insertion-func = "resolveCodeForInsertionFunc"
            />

        <div include-no-scope="/templates/recipes/fragments/recipe-editor-statusbar.html" class="noflex"/>

        <div class="bottom-bar noflex">
            <div class="horizontal-flex">
                <span class="noflex" include-no-scope="/templates/recipes/fragments/code-recipe-validate-button.html" />
                <span class="flex" include-no-scope="/templates/recipes/fragments/code-recipe-run-bottom-bar.html" />
            </div>
        </div>

        <div include-no-scope="/templates/recipes/fragments/recipe-editor-job-result.html" class="noflex recipe-job-result"/>
    </div>


    <div data-block="additionalTabsContent">
        <div ng-if="topNav.tab == 'advanced'" class="dss-page oa small-lr-padding">
            <div block-api-error/>

            <div class="row-fluid">
                <div class="horizontal-centerer">
                    <div class="recipe-settings-section1 w800">
                        <h1 class="recipe-settings-section1-title">R environment</h1>

                        <div class="recipe-settings-section2"
                             code-env-selection-form="recipe.params.envSelection" env-lang="'R'"></div>
                    </div>

                    <div class="recipe-settings-section1 w800">
                        <h1 class="recipe-settings-section1-title">Container configuration</h1>

                        <div class="recipe-settings-section2"
                             container-selection-form="recipe.params.containerSelection"></div>
                    </div>

                    <div include-no-scope="/templates/recipes/fragments/recipe-advanced-common.html" />

                    <div class="recipe-settings-section1 w800">
                        <h1 class="recipe-settings-section1-title">Overrides</h1>

                        <form class="dkuform-horizontal recipe-settings-section2">
                            <div class="control-group">
                                <label for="" class="control-label">Override variables</label>
                                <div class="controls">
                                    <span override-table-link object-to-override="recipe" override-table-parent="recipe"/>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>