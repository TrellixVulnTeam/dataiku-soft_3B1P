<div data-extend-template="/templates/analysis/mlcommon/settings/base-algorithm-params.html">
    <div data-block="algorithm-title">
        Isolation Forest (Anomaly Detection)
    </div>
    <div data-block="algorithm-description">
        Isolation forest is an anomaly detection algorithm.
        It isolates observations by creating a Random Forest of trees, each splitting samples in different partitions.
        Anomalies tend to have much shorter paths from the root of the tree. Thus, the mean distance from the root
        provides a good measure of non-normality.
    </div>

    <div data-block="algorithm-params">
        <div class="control-group required">
            <label class="control-label">Number of trees</label>
            <div class="controls">
                <input type="number" force-integer ng-model="mlTaskDesign.modeling.isolation_forest.n_estimators">
                <div class="help-inline">
                    Number of trees in the forest.
                </div>
            </div>
        </div>

        <div class="control-group required">
            <label for="" class="control-label">Contamination</label>
            <div class="controls">
                <input type="number" ng-model="mlTaskDesign.modeling.isolation_forest.contamination"
                       min="0" max="1"/>
                <div class="help-inline"> Expected proportion of anomalies in the data. </div>
            </div>
        </div>

        <div class="control-group required">
            <label for="" class="control-label">Max sample proportion</label>
            <div class="controls">
                <input type="number" ng-model="mlTaskDesign.modeling.isolation_forest.max_samples"
                       min="0" max="1"/>
                <div class="help-inline"> Proportion of the data to use to build each tree. </div>
            </div>
        </div>

        <div class="control-group required">
            <label for="" class="control-label">Use bootstrap</label>
            <div class="controls">
                <div>
                    <input type="checkbox" ng-model="mlTaskDesign.modeling.isolation_forest.bootstrap"/>
                    <div class="help-inline"> Use bootstrapping to sample from the data. </div>
                </div>
            </div>
        </div>

        <div class="control-group required">
            <label for="" class="control-label">Max feature proportion</label>
            <div class="controls">
                <input type="number" ng-model="mlTaskDesign.modeling.isolation_forest.max_features"
                       min="0" max="1"/>
                <div class="help-inline"> Proportion of features to test for each split. </div>
            </div>
        </div>

        <div class="control-group required">
            <label class="control-label">Anomalies to display</label>
            <div class="controls">
                <input type="number" force-integer ng-model="mlTaskDesign.modeling.isolation_forest.max_anomalies">
                <div class="help-inline">
                    Maximum number of anomalies to display in the model report. Too high a number may cause memory and UI
                    problems.
                </div>
            </div>
        </div>

        <div class="control-group required">
            <label class="control-label">Seed</label>
            <div class="controls">
                <input type="number" force-integer ng-model="mlTaskDesign.modeling.isolation_forest.seed">
                <div class="help-inline">
                    Used to generate reproducible results. 0 or no value means that no known seed is used (results will not be fully reproducible).
                </div>
            </div>
        </div>

    </div>
</div>
