<div data-extend-template="/templates/analysis/mlcommon/settings/base-algorithm-params.html">
    <div data-block="algorithm-title">
        Gradient Boosting (H2O)
    </div>
    <div data-block="algorithm-description">
        Gradient Boosting works by recursively building a sequence of shallow decision trees. Each trees improves on the previous model by correcting residual errors.
    </div>
    <div data-block="algorithm-params">
        <div class="control-group">
            <label class="control-label">Number of trees</label>
            <div class="controls">
                <input type="number" force-integer ng-model="mlTaskDesign.modeling.gbm_sparkling.ntrees" />
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Learning Rate</label>
            <div class="controls">
                <input type="number" ng-model="mlTaskDesign.modeling.gbm_sparkling.learn_rate" min="0" max="1" />
                <div class="help-inline">
                    Learning rate (shrinkage), should be between 0 (exclusive) and 1 (inclusive). Lowering the value slows learning and improves generalization, and high values lead to overfitting. Values between 0.01 and 0.5 are generally used.
                </div>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Max Depth</label>
            <div class="controls">
                <input type="number" force-integer ng-model="mlTaskDesign.modeling.gbm_sparkling.max_depth" />
                <div class="help-inline">
                    Maximum Tree depth for each tree in the sequence.
                </div>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Min Rows</label>
            <div class="controls">
                <input type="number" force-integer ng-model="mlTaskDesign.modeling.gbm_sparkling.min_rows" />
                <div class="help-inline">
                    Minimum number of observations to create a leaf.
                </div>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Family</label>
            <div class="controls">
                <div style="position: relative">
                    <select dku-bs-select ng-model="mlTaskDesign.modeling.gbm_sparkling.family">
                        <option value="AUTO">Automatic</option>
                        <option value="bernoulli">Bernoulli</option>
                        <option value="multinomial">Multinomial</option>
                        <option value="gaussian">Gaussian</option>
                        <option value="poisson">Poisson</option>
                        <option value="gamma">Gamma</option>
                        <option value="tweedie">Tweedie</option>
                    </select>
                </div>
                <div class="help-inline">
                    The family of loss functions used to build the trees. It is recommended to leave AUTO and let H2O do the guessing, unless you are familiar with these options.
                </div>
            </div>
        </div>
        <div class="control-group" ng-if="mlTaskDesign.modeling.gbm_sparkling.family == 'tweedie' ">
            <label class="control-label">Tweedie power</label>
            <div class="controls">
                <input type="number" ng-model="mlTaskDesign.modeling.gbm_sparkling.tweedie_power" />
                <div class="help-inline">Tweedie variance power.
                </div>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">N Bins</label>
            <div class="controls">
                <input type="number" force-integer ng-model="mlTaskDesign.modeling.gbm_sparkling.nbins" />
                <div class="help-inline">
                    For numerical variables, build a histogram of this many bins, then split at the best point. Lower values lead to poorer splits, but higher values lead to longer computation times.
                </div>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">N Bins Categorical</label>
            <div class="controls">
                <input type="number" force-integer ng-model="mlTaskDesign.modeling.gbm_sparkling.nbins_cats" />
                <div class="help-inline">
                    Group categorical variables into this many bins, then split at the best point. Lower values lead to poorer splits, but higher values lead to longer computation times.
                </div>
            </div>
        </div>
        <div class="control-group" ng-if="isClassification()">
            <label class="control-label">Balance classes</label>
            <div class="controls">
                <div>
                    <label class="checkbox-label">
                        <input type="checkbox" ng-model="mlTaskDesign.modeling.gbm_sparkling.balance_classes" /> Balance classes for training
                    </label>
                </div>
                <div class="help-inline">
                    Over or under sample the data to balance classes for training (bias thus introduced will be removed after training). May improve predictions in case of imbalanced classes. Subsampling will also lead to faster training.
                </div>
            </div>
        </div>
        <div class="control-group" ng-if="mlTaskDesign.modeling.gbm_sparkling.balance_classes">
            <label class="control-label">Max after balance size</label>
            <div class="controls">
                <input type="number" ng-model="mlTaskDesign.modeling.gbm_sparkling.max_after_balance_size" />
                <div class="help-inline">Maximum size of the dataset after balancing classes, as a proportion of the original dataset. Values lower than 1 are allowed, thus reducing dataset size.
                </div>
            </div>
        </div>
    </div>
</div>
