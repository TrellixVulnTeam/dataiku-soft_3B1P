<form on-any-blur="checkAndRefresh()" name="processorForm" publish-in-grand-parent="processorForm">

    <ng-include src="'/templates/shaker/processors/processor-filter-and-flag.html'"></ng-include>

    <fieldset>
        <div class="fieldLabel">Date</div>
        <input
                type='text'
                bs-typeahead='step.$stepState.change.columnsBeforeStep'
                autocomplete='off'
                ng-trim="false"
                ng-required="true"
                required="required"
                data-min-length='0'
                ng-model='step.params.columns[0]'
                class="submit-on-blur"
                next-on-enter/>
    </fieldset>

    <fieldset>
        <div class="fieldLabel">Part</div>
        <select
          dku-bs-select
          ng-model="step.params.type"
          class="submit-on-blur"
          required
        >
          <option value="YEAR">Year</option>
          <option value="QUARTER_OF_YEAR">Quarter of year</option>
          <option value="WEEK_OF_YEAR">Week of year</option>
          <option value="MONTH_OF_YEAR">Month of year</option>
          <option value="DAY_OF_MONTH">Day of month</option>
          <option value="DAY_OF_WEEK">Day of week</option>
          <option value="HOUR_OF_DAY">Hour of day</option>
        </select>
    </fieldset>

    <fieldset>
        <div class="fieldLabel">Values</div>
        <ng2-values-list [(items)]="step.params.values" (on-blur)="checkAndRefresh($event)"></ng2-values-list>
    </fieldset>

</form>

