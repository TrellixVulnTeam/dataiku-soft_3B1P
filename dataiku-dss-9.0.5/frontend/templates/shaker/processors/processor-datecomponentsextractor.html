<form on-any-blur="checkAndRefresh()" name="processorForm" publish-in-grand-parent="processorForm">

    <fieldset>
        <span class="fieldLabel">Date column</span>
        <input type="text" bs-typeahead="step.$stepState.change.columnsBeforeStep"
            autocomplete="off" ng-trim="false" ng-required="param.mandatory"
            data-min-length="0" ng-model="step.params.column"
            data-provide="typeahead" required="required"
            class="submit-on-blur"
            next-on-enter
        />
    </fieldset>

    <fieldset>
        <div class="fieldLabel">Timezone</div>
        <select
            dku-bs-select
            ng-model="step.params.timezone_id"
            ng-options="item.value as item.label for item in processor.params[1].advancedChoices"
            class="submit-on-blur"
            next-on-enter
            required>
        </select>
    </fieldset>

    <fieldset ng-show="step.params.timezone_id=='extract_from_ip'||step.params.timezone_id=='extract_from_column'">
        <span class="fieldLabel">Source column</span>
        <input type="text" bs-typeahead="step.$stepState.change.columnsBeforeStep"
            autocomplete="off" ng-trim="false" ng-required="param.mandatory"
            data-min-length="0" ng-model="step.params.timezone_src"
            data-provide="typeahead"
            class="submit-on-blur"
            next-on-enter/>
    </fieldset>

    <fieldset>
        <span class="fieldLabel">'Year' column</span>
        <input type="text" ng-model="step.params.outYearColumn"
            class="submit-on-blur"
            next-on-enter/>
    </fieldset>

    <fieldset>
        <span class="fieldLabel">'Month' column</span>
        <input type="text" ng-model="step.params.outMonthColumn"
            class="submit-on-blur"
            next-on-enter/>
    </fieldset>

    <fieldset>
        <span class="fieldLabel">'Day' column</span>
        <input type="text" ng-model="step.params.outDayColumn"
            class="submit-on-blur"
            next-on-enter/>
    </fieldset>

    <fieldset>
        <span class="fieldLabel">'Day of week' column</span>
        <input type="text" ng-model="step.params.outDayOfWeekColumn"
            class="submit-on-blur"
            next-on-enter/>
    </fieldset>

    <fieldset>
        <span class="fieldLabel">'Hour' column</span>
        <input type="text" ng-model="step.params.outHourColumn"
            class="submit-on-blur"
            next-on-enter/>
    </fieldset>


    <fieldset>
        <span class="fieldLabel">'Minutes' column</span>
        <input type="text" ng-model="step.params.outMinuteColumn"
            class="submit-on-blur"
            next-on-enter/>
    </fieldset>

    <fieldset>
        <span class="fieldLabel">'Seconds' column</span>
        <input type="text" ng-model="step.params.outSecondColumn"
            class="submit-on-blur"
            next-on-enter/>
    </fieldset>

    <fieldset>
        <span class="fieldLabel">'Milliseconds' column</span>
        <input type="text" ng-model="step.params.outMSColumn"
            class="submit-on-blur"
            next-on-enter/>
    </fieldset>

    <fieldset>
        <span class="fieldLabel">'Week of year' column</span>
        <input type="text" ng-model="step.params.outWeekOfYearColumn"
            class="submit-on-blur"
            next-on-enter/>
    </fieldset>

    <fieldset>
        <span class="fieldLabel">'Timestamp' column</span>
        <input type="text" ng-model="step.params.outTimestampColumn"
            class="submit-on-blur"
            next-on-enter/>
    </fieldset>

    <fieldset>
        <span class="fieldLabel">'Week year' column</span>
        <input type="text" ng-model="step.params.outWeekYearColumn"
               class="submit-on-blur"
               next-on-enter/>
    </fieldset>

</form>