@model-focused-color: @digital-blue-lighten-5;
@heatmap-hot: #e22828;
@heatmap-cold: #323dff;
@set-color-train: #94a2d4;
@set-color-test: #4caf50;
@set-color-evaluation: #94a2d4;
@set-color-sampling: #3f51b5;
@set-color-train-part: #06a9f4;
@set-color-folded-train: #06a9f4;
@set-color-ignored-train: @grey-lighten-6;
@set-color-validation: #cddc39;
@set-color-empty: @grey-lighten-5;
@design-tab-title-height: 50;
@design-tab-title-height-with-border: unit(@design-tab-title-height + 1, px);

.text-diagnostics {
    color: @sidekick-text;
    &:hover, &:focus {
        text-decoration-color: @sidekick-text;
    }
}

.diagnostics-popup-icon {
    color: @sidekick-text;
    cursor: pointer;
}

.set-color-train {
    color: @set-color-train;
}

.set-color-test {
    color: @set-color-test;
}

.set-color-evaluation {
    color: @set-color-evaluation;
}

.set-color-train-part {
    color: @set-color-train-part;
}

.set-color-validation {
    color: @set-color-validation;
}

.set-color-sampling {
    color: @set-color-sampling;
}

.deploy-clustering-modal {
    .centered-modal(640px);
    width: 640px;
    p.image {
        height: 75px;
    }
    .selection.modal-body {
        justify-content: space-around;
        > div {
            margin: 0 16px;
        }
    }
    .explanation-block {
        text-align: center;
    }

    .explanation {
        color: @text-weak;
        font-size: 12px;
        text-align: left;
    }
    a.btn {
        text-align: center;
    }
    .selectable {
        .mx-selector-item;
        a {
            .mx-link-nodecoration;
            font-weight: @font-weight-bold;
        }
    }

    table {
        table-layout: fixed;
        width: 600px;
    }

    .recipe-title {
        text-align: center;
    }
    .image-row {
        text-align: center;
    }
    .recipe-image {
        margin: 20px;
    }
    .recipe-description {
        padding: 10px 10px 10px 20px;
    }

}
.deploy-prediction-modal {
    .selectable {
        .mx-selector-item;
        a {
            .mx-link-nodecoration;
            font-weight: @font-weight-bold;
        }
    }
}

.new-ml-task-modal .selectable {
    .mx-selector-item;
}

.no-model-yet {
    text-align: center;
    h1 {
        .mx-ssp(34px, @font-weight-normal);
        color: @text-weak;
    }
}

.models-selector-popover {
    width: 400px;
    .mx-subnav-selector-popover-base;

    ul li a {
        padding-left: 0px;
    }
    span.metric {
        color: @grey-lighten-5;
        .mx-ssp(12px, @font-weight-normal);
        float: right;
        margin-left: 5px;
        margin-right: 5px;
    }
}

.doctor-explanation {
    font-size: 1em;
    background: @alert-info-background;
    padding: 20px;
    border-radius: 5px;
    color: @alert-info-text;

    h1 {
        .mx-ssp(15px, @font-weight-normal);
        line-height: 33px;
        margin: 0;
    }
    .learnmore {
        text-align: right;
        font-size: 13px;
    }
    &.doctor-explanation--sampling {
        max-width: 400px;
    }
}

.doctor-explanation__paragraph {
    margin-bottom: 0;
}

.doctor-explanation__title {
    margin-bottom: 0;
    margin-top: 0;
    .dku-small-title-sb();
    color: @info-blue-base;

    &.doctor-explanation__title--foldable-toggler {
        cursor: pointer;
    }
}

.doctor-explanation__sampling-summary, .doctor-explanation__cross-validation-summary {
    font-weight: @font-weight-semi-bold;
    margin-bottom: 8px;
    margin-top: 8px;
}

.doctor-explanation__foldable-toggler-icon {
    font-size: 12px;
    display: inline-block;
    width: 16px;
}

.doctor-explanation__foldable-section {
    animation: fade-in 0.8s;
}

.doctor-explanation__schema {
    margin-top: 8px;
    margin-bottom: 8px;
    position: relative;
}

.doctor-explanation__schema-row {
    margin-bottom: 8px;
}

.doctor-explanation__schema-legend {
    font-size: 11px;
    margin-left: 120px;
}

.doctor-explanation__label {
    display: inline-block;
    width: 120px;
}

.doctor-explanation__progress {
    background-image: unset;
    box-shadow: unset;
    border-radius: 0;
    display: inline-block;
    height: 16px;
    margin-bottom: 0;
    transition: background 400ms linear;
    vertical-align: middle;
    width: 250px;
}

.doctor-explanation__evaluation-progress {
    background: @set-color-test;
}

.doctor-explanation__evaluation-progress--reversed {
    background: @set-color-train;
}

.doctor-explanation__hyperparameters-progress, .doctor-explanation__hyperparameters-k-fold-progress {
    background-color: @set-color-empty;
}

.doctor-explanation__hyperparameters-progress--k-fold-split {
    background: @set-color-validation;
}

.doctor-explanation__schema-ellipsis {
    display: inline-block;
    transform: rotate(90deg);

    + .doctor-explanation__schema-ellipsis {
        margin-left: 225px;
    }
}

.doctor-explanation__sampling-progress {
    background: @set-color-sampling;
    overflow: unset;

    &:not(.doctor-explanation__sampling-progress--whole-data):afterÂ {
        background-image: linear-gradient(to right, #c2c4c4, transparent);
        border-left: 1px solid @white-base;
        content: '';
        display: inline-block;
        height: 100%;
        margin-left: 100%;
        width: 30px;
    }
}

.progress .bar {
    &.doctor-explanation__bar {
        background-image: unset;
        box-shadow: unset;
        transition: background 400ms linear;
        border-right: 1px solid @white-base;
        line-height: 16px;
    }

    &.doctor-explanation__bar--right {
        border-left: 1px solid @white-base;
        border-right: 1px solid transparent;
    }

    &.doctor-explanation__bar--middle {
        border-left: 1px solid @white-base;
    }

    &.doctor-explanation__bar--train {
        background-color: @set-color-train;
    }

    &.doctor-explanation__bar--test {
        background-color: @set-color-test;
    }

    &.doctor-explanation__bar--train-part {
        background-color: @set-color-train-part;
    }

    &.doctor-explanation__bar--ignored-part {
        background-color: @set-color-ignored-train;
    }

    &.doctor-explanation__bar--validation {
        background-color: @set-color-validation;
    }
}

.doctor-explanation__arrow-line {
    border-top: 1px solid @info-blue-base;
    display: inline-block;
    width: 240px;
}

@media (max-width: 1600px) {
    .doctor-explanation__progress {
        width: 200px;
    }

    .doctor-explanation__arrow-line {
        width: 190px;
    }

    .doctor-explanation__schema-ellipsis + .doctor-explanation__schema-ellipsis {
        margin-left: 200px;
    }
}

@media (max-width: 1280px) {
    .doctor-explanation__progress {
        width: 150px;
    }

    .doctor-explanation__arrow-line {
        width: 140px;
    }

    .doctor-explanation__schema-ellipsis + .doctor-explanation__schema-ellipsis {
        margin-left: 175px;
    }
}

@media (max-width: 1180px) {
    .doctor-explanation__progress {
        width: 100px;
    }

    .doctor-explanation__arrow-line {
        width: 90px;
    }

    .doctor-explanation__schema-ellipsis + .doctor-explanation__schema-ellipsis {
        margin-left: 150px;
    }
}

.doctor-explanation__arrow-end {
    display: inline-block;
    border-color: transparent transparent transparent @info-blue-base;
    border-style: solid;
    border-width: 4px 0 4px 8px;
    height: 0;
    margin-bottom: -3px;
    width: 0;
}

.doctor-explanation__separation-line {
    margin: 20px -20px;
    border-bottom-color: transparent;
    border-top: 1px solid @info-blue-lighten-4;
}

.doctor-explanation__close {
    position: absolute;
    right: 0;
    top: 0;
    cursor: pointer;
    margin-right: 10px;
    margin-top: 10px;
}

.doctor-settings-hyperparameters {
    position: relative;
    &.disabled {
        pointer-events: none;
        >form {
            opacity: 0.5;
        }
    }
}

.pre-train-status-modal {
    width: 560px;
    label {
        font-size: 13px;
    }
    input[type=checkbox] {
        margin: 0;
    }
    ul {
        list-style-type: none;
        margin-left: 0;
    }
    li > .alert { margin: 10px 0 0 0; }

    .train-test-sets {
        text-align: center;
        .train-test-set {
            display: inline-block;
            margin: 0px 40px;

            h4 {
                color: @text-weak;
                margin: 0;
            }
        }
    }

    .pre-warning {
        white-space: pre-wrap;
    }
}

.mlchart-tooltip__table {
    background: none;

    .mlchart-tooltip__label {
        padding: 0 5px 0 0;
        font-weight: normal;
        font-size: 14px;
        font-family: 'SourceSansPro';
        line-height: 20px;
    }

    .mlchart-tooltip__value {
        padding: 0;
        font-weight: bold;
        font-size: 14px;
        font-family: 'SourceSansPro';
        line-height: 20px;
    }
}

.regression-scatter-plot-tooltip {
    position: absolute;
    text-align: left;
    padding: 10px;
    font: 12px;
    background: @white-base;
    z-index: 4000;
    box-shadow: 3px 3px 3px 3px @border-color;
    border-radius: 8px;
    border: 2px solid @white-base;

    hr {
        margin: 5px 0;
    }
}

.gridsearch-scores-graph-line {
    path {
        stroke-width: 3px;
    }
    &:not(.selected) {
        circle, path {
            stroke-opacity: 0.75;
        }
        path {
            stroke-width: 2px;
        }
    }
    .diamond {
        fill: @grey-lighten-6;
    }
    &.selected {
        .diamond {
            &.DONE {
                fill: @success-background-light;
            }
            &.FAILED {
                fill: @error-background-light;
            }
            &.RUNNING, &.PENDING {
                fill: @grey-lighten-6;
            }
        }
    }
    .end-circle {
        &:not(.DONE) {
            fill: @grey-lighten-1;
        }
    }
    circle:not(.end-circle) {
        &:not(:hover) {
            fill: @grey-lighten-1;
        }
    }
}

.gridsearch-curve {
    .main text, .axis text {
        fill: @grey-lighten-5;
    }
    .tick line, line.verticalGrid, line.horizontalGrid {
        stroke: @grey-lighten-2;
    }
    .domain {
        stroke-width: 2px;
        stroke: @grey-lighten-3;
    }
}

.gridsearch-results {
    text {
        fill: @grey-lighten-3;
    }
    .tick line {
        stroke: @grey-base;
    }
    .domain {
        stroke-width: 2px;
        stroke: @grey-lighten-3;
    }
}

.keras-epoch-curve {
    text {
        fill: #afbec5;
    }
    .tick {
        text {
            fill: #afbec5;
        }
    }
    .tick line, line.verticalGrid, line.horizontalGrid {
        stroke: #6f8a97;
    }
    .domain {
        stroke-width: 2px;
        stroke: #8fa4ae;
    }
}

.keras-epoch-scores-graph-line {
    .end-circle {
        &:not(.DONE) {
            fill: #5F7D8C;
        }
    }
    circle:not(.end-circle) {
        &:not(:hover) {
            fill: #5F7D8C;
        }
    }
}

.doctor-results-graph-line {
    .diamond {
        &.DONE {
            fill: @success-background-light;
        }
        &.FAILED {
            fill: @error-background-light;
        }
    }
    &.selected {
        text {
            font-weight: @font-weight-bold;
        }
    }
}

.tooltip.gridsearch {
    background-color: @white-base;
    box-shadow: 0 0 20px @grey-lighten-6;
    -webkit-box-shadow: 0 0 20px @grey-lighten-6;
    -moz-box-shadow: 0 0 20px @grey-lighten-6;
    padding: 2px 6px;
    font-weight: @font-weight-bold;
    color: @digital-green-base;
    border-radius: 3px;
    font-size: 14px;

    &:after {
        content: '';
        width: 0;
        height: 0;
        border-left: 4px solid transparent;
        border-right: 4px solid transparent;
        border-top: 4px solid @white-base;
        top: 23px;
        left: 20px;
        position: absolute;
    }
}

.feature-description {
    opacity: 1 !important;
    z-index: 100000;
    .tooltip-inner {
        background-color: @white-base;
        color: @grey-lighten-1;
        border-radius: 0;
    }
    .tooltip-arrow {
        border-right-color: @white-base !important;
    }
}


.sub-feature-content {
    font-size: 12px;
    list-style: none;
}

.session-features-popup {
    i {
        width: 20px;
        display: inline-block;
        text-align: center;
    }
    i.icon-bullseye { color: @grey-lighten-1; }
    i.icon-eye-open { color: @digital-blue-base; }
    i.icon-remove { color: @text-weak; }
    i.icon-ok { color: @success-green-base; }
    li.reject { color: @grey-lighten-6; }
}

.new-ml-task-modal {
    display: flex;
    flex-direction: column;
    height: 100%;
    justify-content: center;

    .modal__step-header {
        padding: 0 32px;
        margin-bottom: 0;
    }

    .ml-templates-container {
        display: flex;

        .selectable-item {
            height: auto;
        }
    }

    .template-data {
        .template-name {
            font-size: 18px;
            font-weight: @font-weight-bold;
            color: @grey-lighten-1;
            margin: 0;
        }
        .template-description {
            font-size: 12px;
            color: @grey-lighten-5;
        }
    }

    .ml-task-cards {
        display: flex;
        justify-content: center;
        padding: 16px 32px;
    }

    .ml-task-card {
        border: 1px solid @border-color;
        cursor: pointer;
        padding: 26px;
        width: 300px;

        &:hover {
            background: @grey-background;
        }

        .ml-task-card__title {
            text-align: center;
        }

        .ml-task-card__image {
            align-items: center;
            display: flex;
            height: 100px;
            justify-content: center;
            padding: 10px;

            > img {
                max-height: 100%;
            }
        }

        .ml-task-card__description {
            color: @text-weak;
            font-size: 14px;
            line-height: normal;
            text-align: center;
        }

        +.ml-task-card {
            margin-left: 16px;
        }
    }

}

.features-handling {

    :focus { outline: none; }

    .pagination.pagination li a {
        padding: 0px 7px;
        line-height: 25px;
        border-radius: 0;
    }

    margin: 0;
    .item {
        &.handle-reject {
            .name {text-decoration:line-through; }
            color:@grey-lighten-5;
        }
        &.handle-profiling, .handle-target { font-weight: @font-weight-bold; }
        .name, .role, .type, .summary {
            display: inline-block;
            vertical-align: top;
        }
        .name {
            position: relative;
            padding-left: 1em;
            word-wrap: break-word;
            i {
                position: absolute;
                left: .2em;
                top: .3em;
            }
            a {
                color: @grey-lighten-1;
                .mx-link-nodecoration;
            }
        }

        &:nth-child(odd) { background: @white-base } ;

        padding: 7px;
        border-bottom: 1px solid @border-color;

        .details {
            margin-left: 20px;
            h4 { font-weight: @font-weight-normal; font-size: 15px; color: @text-weak; }

            table td {
                line-height: 18px; padding: 3px;
            }
        }

        .name { width: 250px; }
        .type, .role { width: 100px; }
    }
}

.features-page {
    .mx-ssp(13px, @font-weight-normal);

    .list-zone {
        background: @white-base;
        border-right: 1px solid @border-color;

        .feature-headers {
            padding: 4px 0;
            border-bottom: 1px solid @border-color;

            td:first-child {
                width: 1px;
                white-space: nowrap;
                input {
                    margin: 0 5px 0 10px;
                }
            }
            td:last-child {
                max-width: 1px;
                text-align: right;
                padding: 0 7px;
                small {
                    margin-left: 2px;
                }
            }
        }

        .feature-list {
            .td {
                display: inline-block;
                max-width: ~"calc(100% - 70px)";
                vertical-align: middle;
                line-height: 38px; // 50px - 2*6px padding
                padding: 6px 1px;
                span.mx-textellipsis {
                    display: inline-block;
                    max-width: 100%;
                }
                &.content-text {
                    line-height: 14px;
                    height: 50px;
                    padding: 10px 1px;
                }
                &.icon {
                    padding-left: 3px;
                    text-align: center;
                }
                &.role-icon {
                    width: 1.3em;
                    font-size: 16px;
                    height: 100%;
                    line-height: 40px;
                    i.icon-bullseye { color: @grey-lighten-1; }
                    i.icon-eye-open { color: @digital-blue-base; }
                    i.icon-remove { color: @text-weak; }
                    i.icon-ok { color: @success-green-base; }
                    i.icon-dku-weight:before {
                        font-size: 19px;
                    }
                }
                .feature-handling {
                    color: @text-weak;
                }
            }
            .tr.rejected .td .feature-handling {
                color: @grey-lighten-6;
            }

            .unselectable;
            height: 100%;
            overflow: auto;
            margin-right: 3px; // Move the scrollbar out of the way
            h4 {
                padding: 0 8px;
            }
            .tr {
                //display: inline-block;
                width: 100%;
                height: 50px;
                border-top: 1px solid @border-color;
                background-color: @white-base;
                input[type=checkbox] {
                    margin: 0 5px 0 10px;
                }
            }
            .tr.rejected          { color: @grey-lighten-5; }
            .tr.rejected.selected { color: @grey-lighten-5; }

            .tr.selected { background-color: @selected-item-color; }
            .tr.focused { background-color: @focused-item-color; }
            .tr.selected.focused {
                background-color: @selected-focused-item-color;
            }

            .feature-generation-tr {
                width: 100%;
                height: 50px;
                border-bottom: 1px solid @border-color;
                background-color: @white-base;
                label { margin: 0; display: inline;}
            }
            .feature-generation-tr.focused { background-color: @focused-item-color; }
        }
    }

    .main-zone {
        .main-zone-element {
            padding-left: 8px;
        }
        legend {
            .mx-ssp(17px, @font-weight-normal);
            border: none;
            line-height: 30px;
            margin-bottom: 5px;
        }

        .control-group {
            padding-left: 8px;
        }

        .feature-details {
            .alert {
                box-sizing: border-box;
                width: 95%;
            }
            .mx-dkuform-horz(130px, 190px);

            .code-snippet-editor-parent {
                height: 450px;
                margin-right: 10px;
                border: 1px solid @border-color;

                .code-snippet-editor-header-zone {
                    border: none;
                    border-bottom: 1px solid @border-color;
                }
            }

            .feature-section-title {
                font-weight: @font-weight-bold;
                font-size: 15px;
            }
        }

        .feature-section-with-title {
            border-top: 1px solid @border-color;
            margin-top: 5px;
        }
    }

    [column-analysis] {
        .span3 { width: 48% !important; margin-bottom: 10px; }
        .span3 br { display: none; }
        .span6, .span7 { width: ~"calc(100% - 20px) !important"; }

        & .column-analysis {

            .statistics-table {
                margin-bottom: 15px;
                tr {
                    th:nth-child(1) {
                        width: 60px;
                    }
                    th:nth-child(3) {
                        width: 50px;
                    }
                    th:nth-child(5) {
                        width: 80px;
                    }
                    th:nth-child(7) {
                        width: 70px;
                    }
                }
            }

            .table { background: transparent; margin-bottom: 0 }
            td, th { border-top-width: 0; padding: 0; }
            th {
                text-align: left;
                font-weight: @font-weight-normal;
            }
            td {
                opacity: 0.8;
                width: 90px;
            }
            li { line-height: 16px; }
        }
    }
}

.preparation-page {
    .table { max-width: 550px; }
    td:first-child { text-align: right; }
    td > i { font-size: 1em; }
}

div.heatmap-tooltip {
    padding: 7px 10px;
    background-color: fade(@white-base, 90%);
    border-radius: 4px;
    border: 2px solid @border-color;
    pointer-events: none; // prevent heatmap scrolling issues

    h4 {
        font-size: 14px;
        margin: 5px 0;
    }
    table {
        background-color: transparent;
        tr {
            td.label {
                background-color: inherit;
                color: @text-important;
                text-shadow: none;
                padding-right: 10px;
            }
        }

    }

    &:before, &:after {
      display: block; content: "";
      position: absolute;
      top: 49%;
      height: 0;
      width: 0;
      border: 10px solid transparent;
    }
    &:before { border-width: 11px; top: ~"calc(49% - 1px)"; }
    &:not(.lefty):before { left:  -22px; border-right-color: @grey-lighten-5; }
    &:not(.lefty):after  { left:  -19px; border-right-color: fade(@white-base, 90%); }
          &.lefty:before { right: -22px; border-left-color:  @grey-lighten-5; }
          &.lefty:after  { right: -19px; border-left-color:  fade(@white-base, 90%); }

    .relvalue {
        font-size: 13px;
        padding-left: 5px;
        &.positive { color: @success-text; }
        &.negative { color: @error-text; }
    }
}

.model-report-common {
    .edit-name-desc {
            h3 {
                .mx-ssp(26px, @font-weight-normal);
                .mx-textellipsis;
                line-height: 1.2;
                margin-bottom: 0.5em;
            }
            .description {
                margin-top: 1em;
                .empty {
                    color: @grey-lighten-5;
                }
            }
            .filigran {
                margin-left: 15px;
                cursor: pointer;
                opacity: 0.2;
                &:hover, &.active {
                    opacity: 1;
                }
            }
            form {
                margin: 0;
                text-align: right;
                * {
                    text-align: left;
                }
                h3 {
                    input {
                        box-sizing: border-box;
                        width: 100%;
                        height: 40px;
                        font: inherit;
                    }
                }
                textarea {
                    display: block;
                    width: 100%;
                    min-height: 100px;
                    .box-sizing(border-box);
                }
            }
        }
}

.assertion-definition-section {
    .assertion-definition-block {
        padding-bottom: 32px;

        .controls select.assertion-definition-box__class-selection {
            // Need to override .dkuform-horizontal .control-group .controls select {width:206px}
            width: 300px;
        }

        .control-group .controls input.assertion-definition-box__min-value-selection {
            // Need to override .dkuform-horizontal .control-group .controls select {width:206px}
            width: 64px;
            margin-right: 8px;
        }

        .control-group .controls input.assertion-definition-box__max-value-selection {
            // Need to override .dkuform-horizontal .control-group .controls select {width:206px}
            width: 64px;
            margin-left: 8px;
            margin-right: 8px;
        }

        .assertion-definition-box {
            border: 1px solid @light-border-color;
            // Only 18 on top and bottom because control-group has 8 of top and bottom margin
            padding: 18px 24px 18px 24px;
            margin-bottom: 16px;

            &__trash-icon {
                font-size: 15px;
            }

            &__pass-ratio-percentage {
                padding: 4px;
                text-align: center;
                width: 32px;
                display: inline-block;
            }

            &__pass-ratio-setter {
                width: 225px;
            }
        }
    }

    .assertion-definition-add-button {
        text-align: left;
    }
}

.detailed-metrics-table {
    th {
        font-size: 1em;
    }

    &__metrics-details {
        color: @grey-lighten-4;
        margin-left: 4px;
    }
}

.prediction-model-report .detailed-metrics-table.table {
    // Need to overide rule of .prediction-model-report table {max-width:550px}
    max-width: 100%;
}

.performance-metrics {
    .performance-metrics-title {
        // Same height as grid search header
        height: 44px;

        &__threshold-slider {
            text-align: right;
        }
    }

    .detailed-metrics {
        border-top: 1px solid @light-border-color;

        .metrics-header {
            padding-top: 16px;
            padding-bottom: 8px;

        }
    }

    .assertion-result {
        border-top: 1px solid @light-border-color;

        .assertion-header {
            padding-top: 24px;
            padding-bottom: 16px;

            &__title {
                display: inline;
            }

            &__threshold-info {
                text-align: right;
            }
        }
    }

    .assertion-result-table.table {
        // Need to overide rule of .prediction-model-report table {max-width:550px}
        max-width: 100%;
    }

    .assertion-result-table {
        td {
            line-height: 20px;
            padding: 16px 16px 0 16px;
            border-top: 1px solid @light-border-color;
        }

        &__main-line {
            td {
                height: 24px;
            }
        }
        &__sub-line {
            td {
                padding-top: 0;
                padding-bottom: 16px;
                border-top: none;
            }
        }
        &__sub-line-criteria {
            color: @text-weak;
        }

        border: 1px solid @light-border-color;
        padding-left: 24px;
        line-height: 16px;
        border-bottom: 1px solid @light-border-color;
        background: @white-background;
        width: 100%;

        &--border-sides {
            border-left: 1px solid @light-border-color;
            border-right: 1px solid @light-border-color;
        }
        &--wide-title {
            min-width: 140px;
        }

        &--border-right {
            border-right: 1px solid @light-border-color;
        }

        &__filter {
            max-width: 350px;
        }

        &__expected-valid-ratio-marker {
            position: relative;
            margin-top: 12px
        }

        &__expected-valid-ratio-marker-background {
            width: 16px;
            height: 12px;
            position: absolute;
            bottom: 0;
            background: linear-gradient(90deg, #FFFFFF 2.36%, #91C58A 22.9%, #91C58A 71.09%, rgba(145, 197, 138, 0) 90.63%);
        }

        &__expected-valid-ratio-marker-bar {
            position: absolute;
            width: 16px;
            left: -1px;
            bottom: 5px;
            border: 1px solid @digital-blue-base;
            transform: rotate(90deg);
        }

        &__outcomes-number--invalid {
            text-align: right;
            min-height: 16px;
        }

        &__outcomes-number--dropped {
            text-align: center;
            min-height: 16px;
        }

        &__outcomes-number--valid {
            min-height: 16px;
        }

        &__dropped-details {
            font-size: 11px;
            color: @grey-lighten-4;
            margin-left: 4px;
        }

        &__icon-valid-rows {
            font-size: 9px;
            color: @success-green-lighten-2;
            margin-right: 4px;
        }

        &__icon-invalid-rows {
            font-size: 9px;
            color: @error-red-lighten-3;
            margin-right: 4px;
        }

        &__valid-ratio {
            min-width: 150px;
            width: 30%;
        }

        &__result {
            font-size: 16px;
            padding-top: 8px;
            min-width: 50px;

            &--pass {
                color: @success-green-base;
            }

            &--fail {
                color: @error-red-base;
            }
        }
    }
}

.prediction-model-report {

    .summary-page {
        .model-score {
            display: inline-block;
            background: @grey-lighten-7;
            padding: 10px;
            border: 1px solid @border-color;
        }
        .metric-name {
            font-size: 1.6em;
            font-weight: @font-weight-normal;
            font-style: italic;
        }
        .metric-name::after {
            content: ":";
        }
        .metric-value {
             font-size: 1.6em;
            font-weight: @font-weight-normal;
            font-style: italic;
        }
    }

    // color in <code> is reserved for [in]correct predictions
    code { color: inherit; }

    h3, h4 {
        margin-top: 1em;
        margin-bottom: .4em;
    }

    .threshold-form {
        > *:not(:first-child) {
            display: inline-block;
            margin-left: 1em;
        }
        .threshold-range {
            &:before { content: "0"; }
            &:after  { content: " 1"; }
        }
    }

    .table { max-width: 550px; }
    th { font-size: 1.2em; }


    .variable-coefs-filters {
        .bootstrap-select { max-width: 150px; }
        .list-control-widget { margin-left: 0 }
        > label, > span:not(:first-child) { display: inline-block; margin-left: 2em; }
        .pages-wrapper { float: right; }
        .pages {
            margin-left: 1em;
            a {
                display: inline-block;
                padding: 0 3px;
                color: inherit;
                text-decoration: none;
            }
            .active { font-weight: @font-weight-bold; }
        }
    }
    .variable-coefs {
        max-width: 100%;
        margin-top: 1em;

        td.coef-bar {
            span { display: block; height: 1.5em; }
            span.negative { margin-right: 50px; background-color: @error-red-base; }
            span.positive { margin-left: 50px;  background-color: @success-green-base; }
        }
    }

    .bc-results-cost-matrix {
        h3 {
            .mx-ssp(18px, @font-weight-normal);
            color: @text-weak;
        }
        .mx-common-input-styles;
    }

    .cost-matrix, .confusion-matrix {
        td, th { vertical-align: middle; text-align: center }
    }
    .cost-matrix {
        td.success code { color: @success-green-base; }
        td.error   code { color: @error-red-base; }
        *:nth-last-child(5) ~ td, tr:last-child th { text-align: right }
        &.short tr > td:nth-last-child(5) ~ *,
        &.short tr > th:nth-last-child(3) ~ * { display: none; }
        input { width: 50px; }
        .actual-gain { font-weight: @font-weight-bold; color: @text-weak; text-align: center !important; }
    }
    .confusion-matrix:not(.multiclass) { max-width: 400px; }
    .confusion-matrix {
        table-layout: fixed;
        td, th {
            border: 1px solid @border-color;
            &:empty {
                border: none;
            }
        }
        th { 
            .mx-ssp(16px, @font-weight-normal);
            &.current {
                border-top: 6px solid @drift-current;
            }
            &.reference {
                position: relative;
                .change-ref-btn {
                    right: 6px;
                    top: 6px;
                    position: absolute;
                }
                border-top: 6px solid @drift-reference;
            }
}
        td { .mx-ssp(16px, @font-weight-normal); }
        td.success { color: @success-text; }
        td.error   { color: @error-text; }
        
    }
    .confusion-matrix.multiclass{
        width: inherit;
        max-width: none;
    }
    .error-distrib {
        td { text-align: center; }
        th { font-size: 1em; }
        th[colspan] { text-align: right; }
    }

    .metrics-table {
        th {
            vertical-align: middle;
            font-size: 16px;
            color: @grey-lighten-1;
            font-weight: @font-weight-normal;
            letter-spacing: 0.5px;
            text-align: right;
            .icon-info-sign {
                color: @grey-lighten-4;
                cursor: pointer;
            }
        }
        td.category { font-style: italic; text-align: center; }
        td > strong {
            font-weight: @font-weight-normal;
            font-size: 14px;
            display: block;
        }
        td > span { opacity: .5; }
        .sigma {
            display: block;
             font-size: 0.9em;
             color: @text-weak;
        }
    }

    [r-scatter-plot] .nv-scatter {
        stroke-width: 0;
    }

    [bc-gain-chart] .nv-groups .nv-group:last-child {
        stroke-dasharray: 3, 3;
        .nv-point.hover { stroke-dasharray: 0; }
    }

    [bc-roc-curve] ~ .nvtooltip,
    [bc-calibration-curve] ~ .nvtooltip {
        margin-left: 100px;
        margin-top: 60px;
    }

    .metrics-definition {
        margin: 0 0 10px;

        dd, dt { display: inline; margin-left: 0 }
    }
}

.nvtooltip.nvtooltip {
    font-family: 'SourceSansPro';
}

.density-chart__graph {
    padding-top: 15px;
}

.coef-path {
    .graph-width {
        width: 700px;
    }

    .graph-slider {
        margin-bottom: 15px;
    }

    .coef-container {
        min-width: 200px;
        margin-left: 30px;
    }

    .number-header {
        margin-bottom: 10px;
        text-align: center;
    }

    table {
        table-layout: fixed;
        margin: auto;
        width: 100%;
    }

    .feature {
        width: 33%;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        cursor: pointer;
    }

    .coef-bar {
        min-width: 70px;
        width: 70px;
    }

    .coef-value {
        padding-left: 10px;
        min-width: 50px;
        width: 50px;
    }

    td {
        height: 15px;
        border-bottom: 1px light-grey solid;
    }

    .selected-feature {
        text-align: center;
        font-weight: @font-weight-bold;
        font-size: 8pt;
        height: 35px;
        max-height: 35px;
        text-overflow: ellipsis;
        overflow: hidden;
        margin-bottom: 15px;
        white-space: nowrap;
    }

    input[type=range] {
      -webkit-appearance: none;
      margin: 10px 0;
      width: 100%;
    }
    input[type=range]:focus {
      outline: none;
    }
    input[type=range]::-webkit-slider-runnable-track {
      width: 100%;
      height: 5px;
      cursor: pointer;
      animate: 0.2s;
      box-shadow: 0px 0px 0px @grey-base;
      background: @grey-lighten-5;
      border-radius: 5px;
      border: 1px solid @grey-lighten-3;
    }
    input[type=range]::-webkit-slider-thumb {
      box-shadow: 1px 1px 1px @grey-lighten-3;
      border: 1px solid @grey-lighten-3;
      height: 10px;
      width: 20px;
      border-radius: 6px;
      background: @grey-lighten-7;
      cursor: pointer;
      -webkit-appearance: none;
      margin-top: -3px;
    }
    input[type=range]:focus::-webkit-slider-runnable-track {
      background: @grey-lighten-5;
    }
    input[type=range]::-moz-range-track {
      width: 100%;
      height: 5px;
      cursor: pointer;
      animate: 0.2s;
      box-shadow: 0px 0px 0px @grey-base;
      background: @grey-lighten-5;
      border-radius: 5px;
      border: 1px solid @grey-lighten-3;
    }
    input[type=range]::-moz-range-thumb {
      box-shadow: 1px 1px 1px @grey-lighten-3;
      border: 1px solid @grey-lighten-3;
      height: 10px;
      width: 20px;
      border-radius: 6px;
      background: @grey-lighten-7;
      cursor: pointer;
    }
    input[type=range]::-ms-track {
      width: 100%;
      height: 5px;
      cursor: pointer;
      animate: 0.2s;
      background: transparent;
      border-color: transparent;
      color: transparent;
    }
    input[type=range]::-ms-fill-lower {
      background: @grey-lighten-5;
      border: 1px solid @grey-lighten-3;
      border-radius: 50px;
      box-shadow: 0px 0px 0px @grey-base;
    }
    input[type=range]::-ms-fill-upper {
      background: @grey-lighten-5;
      border: 1px solid @grey-lighten-3;
      border-radius: 50px;
      box-shadow: 0px 0px 0px @grey-base;
    }
    input[type=range]::-ms-thumb {
      box-shadow: 1px 1px 1px @grey-lighten-3;
      border: 1px solid @grey-lighten-3;
      height: 10px;
      width: 20px;
      border-radius: 6px;
      background: @grey-lighten-7;
      cursor: pointer;
    }
    input[type=range]:focus::-ms-fill-lower {
      background: @grey-lighten-5;
    }
    input[type=range]:focus::-ms-fill-upper {
      background: @grey-lighten-5;
    }
}

.clustering-results-page {
    * { box-sizing: border-box; }

    div.anomalies {

        .container {
            padding-top: 70px;
            width: 100%;
        }

        .scores-section {
            margin-right: 15px;
        }

        .cell {
            border: 1px solid @white-base;
            padding-top: 7px;
            text-align: center;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
        }

        .cell-dimensions {
            width: 45px;
            height: 35px;
        }

        .feature-container {
            position: relative;
        }

        .feature-name {
            text-overflow: ellipsis;
            overflow: hidden;
            width: 100px;
            height: 20px;
            max-height: 20px;
            max-width: 100px;
            transform: rotate(-45deg);
            position: absolute;
            top: -20px;
        }

        .score {
            width: 70px;
            height: 35px;
        }

        .data-header {
            height: 45px;
            max-height: 45px;
        }

    }

    div.heat-gradient {
        width: 75px;

        #text {
            width: 100%;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            font-weight: @font-weight-bold;
        }

        #gradient {
            width: 100%;
            height: 15px;
            background: linear-gradient(to right, @heatmap-cold, @grey-lighten-8, @heatmap-hot);
            background: -webkit-linear-gradient(left, @heatmap-cold, @grey-lighten-8, @heatmap-hot);
            background: -moz-linear-gradient(right, @heatmap-cold, @grey-lighten-8, @heatmap-hot);
        }
    }

    .heatmap-page {
        @square-size: 50px;
        position: relative;
        a {
            color: @grey-lighten-1;
            &:hover {
                text-decoration: none;
                color: @link-normal;
            }
        }

        table {
            border-spacing: 0;
            border-collapse: collapse;
            table-layout: fixed;
            white-space: nowrap;
        }

        .reset-sort-link {
            color: @link-normal;
            display: block;
            margin: 0 auto;
            text-align: center;
            line-height: 40px;
        }

        .table th, .table td { padding: 0px; }

        .table td { border: none; }

        .table {
            tr.sort-active  td{
                position: relative;
                &:before, &:after {
                    content: ' ';
                    position: absolute;
                    width: 100%;
                    height: 1px;
                    background: @grey-base;
                }
                &:after {
                    bottom: 0;
                    padding-bottom: 0;
                }
            }
            td.sort-active {
                position:relative;
                &:before, &:after {
                    content: ' ';
                    position: absolute;
                    height: 100%;
                    width: 1px;
                    background: @grey-base;
                }
                &:after { right: 0; height: 0px; }
            }
        }

        table td.square {
            width: @square-size;
            max-width: @square-size;
            height: @square-size;
            margin: 1px;
            border: 1px solid @border-color;
        }

        .tile-overlay {
            position: absolute;
            top: 0;
            bottom: 0;
            right: 0;
            left: 0;
            z-index: 1;
        }

        .btn-reset {
            margin-left: 40px;
        }

        .features-container {
            height: @square-size;
            position: relative;

            .features {
                display: inline-block;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                height: @square-size;
                border-color: @grey-base;
                padding-top: 14px;
                text-align: right;
            }

            .icon-caret-right {
                position: absolute;
                top: 18px;
                right: 5px;
            }

            .icon-caret-left {
                position: absolute;
                top: 18px;
                right: 5px;;
            }
        }

        .table-headers {
            height: 75px;
            line-height: 75px;
            text-align: center;
        }

        .line { float: none; }

        .features-box {
            background-color: @white-base;
            padding: 5px;
            border-left: 1px solid @grey-base;
            border-top: 1px solid @grey-base;
            border-bottom: 1px solid @grey-base;
            border-right: 1px solid @white-base;
        }

        .cluster-header {
            transform-origin: left;
            transform: rotate(-45deg) skewX(45deg);
            position: absolute;
            left: 15px;
            bottom: 4px;
            padding : 0px 6px;
            max-width: 120px;
            z-index: 0;
        }

        .cluster-box {
            background-color: @white-base;
            transform-origin: left;
            transform: rotate(-45deg) skewX(45deg);
            position: absolute;
            left: 25px;
            bottom: 2px;
            border: 1px solid @grey-base;
            border-left-color: @white-base;
            padding : 0px 6px;
            max-width: 120px;
            z-index: 0;
        }

        .cluster-box:before {
            transform: skewX(-45deg);
            content: "";
            border: 1px solid @grey-base;
            border-left: none;
            width: 30px;
            display: block;
            position: absolute;
            right: -15px;
            bottom: -1px;
            top: -1px;
            background-color: @white-base;
            z-index: 1;
        }

        .cluster-content {
            transform-origin: left;
            transform: skewX(-45deg) !important;
            white-space: nowrap;
            position: relative;
            z-index:2;
            align-items: center;
        }

        .cluster-container {
            display: inline-block;
            width: 50px;
            position: relative;
            z-index: 2;
        }

        .cluster-name {
            max-width: 70px;
            text-overflow: ellipsis;
            overflow-x: hidden;
            z-index:3;
        }

        .color-indicator {
            width: 10px;
            height: 10px;
            border-radius: 100px;
            margin-right: 5px;
        }

        .carets {
            margin-right: 5px;
            transform: rotate(45deg);
            -webkit-transform: rotate(45deg);
        }

        .cluster-edit {
            float: right;
            transform: rotate(-45deg) scale(0.75);
            margin-right: -1em;
            z-index: 4;
            position: relative;
        }

        .cluster-edit:not(:hover) { opacity: .5}

        .tile-tooltip {
            margin-right: -20px;
        }

        .test{
            width: 200px;
            height: 50px;
            border: 1px solid @border-color;
        }
    }

    .cluster-hierarchy {

        .cluster-container {
            margin: -15px -20px;
            height: auto;
        }

        .stats-area {
            width: 300px;
            border-left: 1px solid @border-color;
        }

        .stats-header {
            height: 70px;
            background-color: @white-base;
            padding-left: 20px;
            padding: 15px 15px 15px 20px;
            color: @grey-lighten-1;
        }

        .node-size-container {
            margin-top: 10px;
            padding-right: 10px;
            display: flex;
            justify-content: space-between;
            font-size: 13px;
        }

        .color-indicator {
            width: 15px;
            height: 15px;
            border-radius: 15px;
            margin-right: 15px;
            margin-top: 4px;
        }

        .cluster-name {
            max-width: 200px;
            font-size: 16px;
            text-overflow: ellipsis;
            overflow: hidden;
        }

        .row-element {
            height: 30px;
            border-bottom: 1px solid @border-color;
        }

        .title {
            font-size: 14px;
            text-align: center;
        }

        .feature-width {
             width: 130px;
             max-width: 130px;
        }

        .avg-width {
            width: 75px;
            max-width: 75px;
        }

        .parent-width {
            width: 95px;
            max-width: 95px;
        }

        .feature {
            font-size: 12px;
            line-height: 17px;
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            padding-top: 5px;
            padding-left: 10px;
        }

        .avg {
            text-align: center;
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            padding-top: 5px;
        }

        .parent {
            padding-top: 5px;
            margin-left: 15px;
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
        }

        .std-list-sort-box {
            margin: 10px 20px;
        }

        .sort-select {
            width: 200;
        }

        .hover-indication {
            text-align: center;
            font-weight: @font-weight-bold;
        }

        .btn-action {
            background: @white-base;
            i { margin-left: 5px; }
            border: 1px solid @border-color;
            &:hover {
                transition: all 0.2s ease;
                background: @grey-lighten-2;
                color: @white-base;
            }
            &.popover-shown {
                color: @white-base;
                background: @grey-lighten-1;
            }
            &:disabled {
                background: @grey-background;
                border: 0px;
            }
        }

        .filigran {
            margin-left: 15px;
            cursor: pointer;
            opacity: 0.2;
            &:hover, &.active {
                opacity: 1;
            }
        }

    }

    div.cluster-summary {
        padding-top: 32px;
        padding: 30px;
        background-color: @white-base;

        * { box-sizing: border-box; }

        h3 {
            color: @grey-lighten-5;
            font-size: 14px;
        }

        .filigran {
            cursor: pointer;
            opacity: 0.2;
            &:hover, &.active {
                opacity: 1;
            }
        }

        ul.observations {
            li {
                font-size: 13px;
                span.greater { color: @success-text; }
                span.smaller { color: @error-text; }
            }
        }

        table.clusters-tab {

            table-layout: fixed;
            line-height: 28px;

            tr.cluster {

                &:hover {
                    background-color: @white-base;
                }

                &.selected {
                    font-weight: @font-weight-bold;
                    background-color: @grey-background;
                }
            }

            td.name {
                overflow: hidden;
                text-overflow: ellipsis;
                width: 100px;
                max-width: 80px;
            }

            td.gauge {
                width: 100px;
                max-width: 100px;
            }

            td.samples {
                padding-left: 15px;
                width: 150px;
                max-width: 150px;
            }

        }

        div.summary-detail {
            padding-left: 50px;
            height: 100%;
            border-left: 2px solid @border-color;
        }
    }

    @left-area-width: 260px;
    @left-area-margin: 10px;

    stacked-histograms {
        display: block;
        width: 100%;
    }

    .cluster-profiling-screen {
        background-color: @white-base;
        position: relative;

        &:before {
            content: "";
            position: absolute;
            left:  @left-area-width + 10px;
            right: 0;
            bottom: 0;
            top: 0;
            background: linear-gradient(to right, fade(@white-base, 0%), fade(@white-base, 100%)),
                @white-base url("/static/dataiku/images/models/clustering-profiling-background.png") repeat 3px 0px;
        }
        &:after {
            content: "";
            position: absolute;
            left: @left-area-width + 10px;
            top: 20px; bottom: 20px;
            width:1px;
            border-left: solid 1px @border-color;
        }

        h3 {
            font-size: 14px;
            margin-left: 54px;
            margin-bottom: 2px;
        }

        .cluster-profiling-row {
            position: relative;
            margin: 0;
            width: 100%;
            height: 198px;
        }
        .cluster-profiling-global-row {
            height: 260px !important;
            div { border-bottom: 1px solid @border-color; }
        }
        text.histogram-label { font-size: 12px; }
        g.xaxis.hide-labels text { visibility: hidden; }
        g.whiskerPlot {
            * { stroke: @grey-lighten-5; }
            rect   { fill: @white-base; }
            circle { fill: @grey-lighten-5; }
        }

        .filigran {
            margin-left: 5px;
            cursor: pointer;
            opacity: 0.2;
            &:hover, &.active {
                opacity: 1;
            }
        }
    }

    div.cluster-profiling-rows {
        overflow-y: scroll;
        position: relative;
    }
    .right-area {
        position: absolute;
        left: @left-area-width + 17px;
        right: 5px;

        svg { height: 200px; }
    }

    .left-area, .right-area {
        padding: 10px 10px;
        margin: 0px @left-area-margin;
        height: ~"calc(100%)";
        top: 0px;
    }

    .left-area {
        display: block;
        margin: 0px @left-area-margin;
        width: @left-area-width - @left-area-margin * 2;

        .bz-gauge {
            width: 82px;
            margin-top: 23px;
        }

        h3 { font-size: 16px; }

        .feature-selector {
            width: 100% !important;
            position: relative;
            left:0; right:0;
        }

        table { color: @grey-lighten-5; }

        & > div.bootstrap-select { display: block !important; }
    }

}

.model-info-page {
    table {
        width: auto;
        max-width: auto;
        tbody{
            border: 0;
        }
    }
    th, td{ padding: 3px; line-height: 20px; }
    th {
        font-size: 13px;
        font-weight: @font-weight-normal;
        padding-right: 30px;
        color: @text-weak;
    }
    td {
        font-size: 14px;
        font-weight: @font-weight-bold;
    }

    .small-gray {
        font-size: 13px;
        font-weight: @font-weight-normal;
        color: @grey-lighten-4;
    }

    .small {
        font-size: 13px;
        font-weight: @font-weight-normal;
    }

    .mh-0 {
        min-height: 0;
    }

    .ws-nowrap {
        white-space: nowrap;
    }

    .text-diagnostics {
        line-height: 20px;
    }
}
.model-info-page__algorithm_parameters{
    .text-error,.text-success{
        color: @grey-lighten-1;
    }
}
.model-info-page__object-link {
    a, span {
        .mx-link-nodecoration;
        color: @grey-lighten-1;
    }
}

.gridsearch-page {
    h3 {
        font-size: 18px;
        font-weight: @font-weight-normal;
        margin-bottom: 16px;
    }
    .data-table {
        table-layout: fixed;
        min-width: 100%;

        th, td {
            border: 1px solid @border-color;
        }
        th {
            padding-right: 3px;
            word-wrap: break-word;
            -webkit-hyphens: manual;
               -moz-hyphens: manual;
                    hyphens: manual;
            -webkit-hyphenate-character: "";
               -moz-hyphenate-character: "";
                    hyphenate-character: "";
        }
    }

    .gs-param__n-estimators--xgboost {
        font-style: italic;
    }
}

.gridsearch-header {
    height: 44px;
    border-bottom: 1px solid @border-color;
    margin-bottom: 24px;
    width: 100%;
    display: flex;
    align-items: flex-start;

    &__title {
        width: 274px;
        height: 28px;
        color: @grey-base;
        // TODO: Replace below by @grand-title-r - 22px when merged in master
        font-style: normal;
        font-weight: normal;
        font-size: 22px;
        line-height: 28px;
    }

    &__button-group {
        margin-top: 4px;
        margin-left: auto;
    }
}

.hyperparam-1d-plot {
    height: 300px;
    width: 100%;

    &__svg {
        height: 100%;
        width: 100%;
    }
}

.hyperparam-search-table {

    // Double selector for selectivity :(
    && {
        width: 100%;
        max-width: none;
    }

    &__export-button {
        margin-top: -20px;
    }
}

.hyperparam-2d-dependency-row {
    display: flex;
    justify-content: flex-start;
    align-items: center;
}

.hyperparam-2d-dependency-row:not(:last-child) {
    border-bottom: 1px solid @border-color;
}

.hyperparam-2d-dependency-row__title {
    align-self: stretch;
    width: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-right: 1px solid @border-color;
}

.hyperparam-2d-dependency-row__title--straight {
    text-align: center;
    font-size: 17.5px;
    font-weight: bold;
    height: 30px;
}

.hyperparam-2d-dependency-row__title--rotated {
    font-size: 17.5px;
    font-weight: bold;
    transform: rotate(-90deg);
    height: 30px;
}

.hyperparam-2d-dependency-plot__multiline {
    .nv-axislabel {
        font-weight: bold;
    }

    //Ugly selector to match nvd3 selectivity
    .nvd3.nv-line .nvd3.nv-scatter .nv-groups .nv-point {
        fill-opacity: 0.2;
        stroke-opacity: 0;
    }

    .nv-line {
        stroke-width: 1.5px;
    }
}

.partitioned-model__link {
    font-weight: @font-weight-semi-bold;
    color: @grey-lighten-1;

    &:hover, &:focus {
        color: @grey-lighten-1;
    }
}

.partitioned-model__link--error {
    color: @error-red-darken-1;

    &:hover, &:focus {
        color: @error-red-darken-1;
    }
}

.partitioned-model--padding {
    padding: 20px 25px 10px 25px;
}

.model-starred {
    margin: 6px;
    cursor: pointer;

    .icon-star {
        color: @star-yellow-base;
    }

    .icon-star-empty {
        color: @text-weak;

        &:hover {
            color: @star-yellow-base;
        }
    }
}

.model-color-bullet {
    border-width: 6px;
    border-style: solid;
    vertical-align: middle;
    width: 0px;
    height: 0px;
    display: inline-block;
    margin-left: 8px;
    margin-right: 5px;
    margin-bottom: 4px;
    border-radius: 6px;
    border-color: @border-color;

    &.selectable {
        opacity: 0.75;
        &.selected {
            opacity: 1;
        }
    }
}

.models-session {
    overflow-y: auto;

    &.models-session--keras {
        overflow-y: unset;
    }
}

// templates/ml/model-snippet.html (BOTH models & savedmodels)
.models-detailed-item {
    background-color: @white-base;
    box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.2), 0 3px 4px 0 rgba(0, 0, 0, 0.12), 0 2px 4px 0 rgba(0, 0, 0, 0.14);
    border-left: 4px solid @border-color;
    list-style: none;
    overflow-y: visible; // for drop shadow
    margin: 24px 0 24px 4px; // leave some pixels for drop shadow
    position: relative;
    transition: background-color 0.5s ease;
    /* Width calculation: to make sure model box is aligned with graph even with scrollbars
    width = 0.75 * [ view-width - (   40px    ) ]  - (  16px + 4px + 4px   ) - (     14px - 16px      )
                                  (right panel)      (left paddings/margins)   (right paddings/margins)
    */
    width: ~"calc(75vw - 84px)";

    /* Using after and opacity to animate box-shadow for better performances. See http://tobiasahlin.com/blog/how-to-animate-box-shadow */
    &::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        pointer-events: none;
        box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.10), 0 8px 7px 0 rgba(0, 0, 0, 0.2);
        -webkit-transition: opacity 0.3s ease-in-out;
        transition: opacity 0.3s ease-in-out;
    }

    &.focused::after {
        opacity: 1;
    }

    .model-snippet-header {
        border-bottom: 1px solid @grey-lighten-7;
        display: grid;
        grid-template-columns: 0.95fr 1.1fr 0.95fr;
        padding: 8px 0;
    }

    .model-snippet-btn {
        display: inline-block;
        width: 85px;
        display: inline-block;
        margin: 5px;
        height: 28px;
        line-height: 26px;
        font-weight: @font-weight-bold;
        font-size: 12px;
        border: 1px solid @border-color;
        cursor: pointer;
        text-align: center;
        span, i {
            vertical-align: middle;
        }
        &:hover {
            background-color: @grey-background;
        }
        &.abort {
            color: @error-text;
        }
        &.logs {
            text-decoration: none;
            color: @text-weak;
        }
        &.resume {
            color: @text-weak;
        }
        &.finalize {
            padding-left: 0;
            color: @text-weak;
        }
    }

    .icon-dku-weight:before {
        font-size: 18px;
    }

    .model-snippet-header__details {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-left: 16px;
    }

    .model-snippet-header__name {
        font-size: 14px;
        font-weight: @font-weight-bold;
        color: @grey-lighten-1;
        max-width: 70%; // for ellipsis
        .mx-textellipsis();
    }

    .model-snippet-header__state {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .model-snippet-header__metric {
        font-weight: @font-weight-normal;
        font-size: 16px;
        margin-right: 8px;
        text-align: center;
        white-space: nowrap;

        .icon-trophy {
            color: @yellow-base;
        }
        .icon-info-sign {
            color: @grey-lighten-4;
            cursor: pointer;
        }
    }

    .running {
        color: @text-weak;
    }

    .failed {
        color: @error-red-base;
    }

    .aborted {
        color: @grey-lighten-6;
    }

    .model-snippet-header__actions {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        padding-right: 16px;
        font-size: 13px;
    }

    .model-snippet-header__star {
        cursor: pointer;
        margin: 0 8px;
        font-size: 14px;

        .icon-star {
            color: @star-yellow-base;
        }

        .icon-star-empty {
            color: @text-weak;

            &:hover {
                color: @star-yellow-base;
            }
        }
    }

    .model-snippet-body {
        @model-snippet-height: 172px;
        display: grid;
        height: @model-snippet-height;
        grid-template-columns: 0.95fr 1.1fr 0.95fr;
        position: relative;

        &.model-snippet-body--with-selector {
            grid-template-columns: 0.15fr 0.8fr 1.1fr 0.95fr;
        }

        &.not-active {
            opacity: 0.64;
        }

        &.model-snippet-body--RUNNING, &.model-snippet-body--PENDING {
            .model-snippet-body__selector { visibility: hidden; }
            .model-snippet-body__summary span { display: none; }
            .model-snippet-body__summary a { pointer-events: none; }
            .model-snippet-body__main { position: relative; /* for child's .fh */ }
        }
        &.model-snippet-body--FAILED {
            .model-snippet-body__selector { visibility: visible; }
            .model-snippet-body__summary span { display: none; }
            .model-snippet-body__summary a { pointer-events: none; }
            .model-snippet-body__main { position: relative; /* for child's .fh */ }
        }
        .model-snippet-body__selector, .favorite {
            label { background: @grey-lighten-3; }
            :checked + label  { background: @green-base; }
            label:after {
                display: block;
                position: absolute;
                pointer-events: none;
            }
        }

        &.model-snippet-body--FAILED .model-snippet-body__selector {
            :checked + label { background: @error-red-base; }
        }

        .model-snippet-body__selector {
            text-align: center;
            vertical-align: middle;
            position: relative;
            background: transparent;
            box-sizing: border-box;
            height: @model-snippet-height;

            label:after {
                font-size: 24px;
                display: flex;
                position: absolute;
                justify-content: center;
                align-items: center;
                height: 100%;
                width: 100%;
                color: @white-base;
                content: '\2610';
            }
            :checked + label:after { content: '\2611'; }
        }
        .model-snippet-body__summary {
            align-items: center;
            display: flex;
            overflow: auto;
            padding: 16px;
            box-sizing: border-box;
            height: @model-snippet-height;

            a {
                display: block;
                color: inherit;
                font-size: 1.6em;
                font-weight: @font-weight-normal;
                margin-bottom: 0 0 5px;
            }
            time {
                opacity: .8;
                font-weight: @font-weight-normal;
                font-style: italic;
            }
            span.metric {
                display: block;
                position: absolute;
                bottom: 1rem;
                left: 0;
                right: 0;
                padding-right: 2rem;
                box-sizing: border-box;
                text-align: right;
                font-size: 1.6em;
                font-weight: @font-weight-normal;
                font-style: italic;
                pointer-events: none; // don't cover a:after
                .sigma {
                    font-size: 0.9em;
                    color: @text-weak;
                }
            }
            strong { font-weight: @font-weight-normal; }
            p {
                margin-top: 1em;
                white-space: pre-line;
                font-style: italic;
                font-weight: @font-weight-normal;
            }
        }

        .model-snippet-body__grid-description {
            width: 100%;
        }

        .model-snippet-body__main {
            border-left: 1px solid @border-color;
            position: relative;
            height: @model-snippet-height;
            box-sizing: border-box;

            &.model-snippet-body__main--pending {
                border-left-color: transparent;
            }

            .model-snippet-body__main-title {
                font-size: 14px;
                font-weight: @font-weight-normal;
                margin: 0;
                padding: 4px;
            }

            .partitioned-model-table__container {
                overflow-y: auto;
                height: @model-snippet-height;
            }

            .partitioned-model-table__header {
                height: 27px;
                text-align: center;

                th {
                    font-weight: @font-weight-normal;
                    font-size: 14px;
                }
            }

            .partitioned-model-table__row {
                td:nth-child(2) {
                    width: 10%;
                }

                td:nth-child(4) {
                    width: 15%;
                    white-space: nowrap;
                }

                td:nth-child(1) {
                    padding-left: 3px;
                    pointer-events: auto;
                }
            }

            // DONE
            table { width: 100%; line-height: 20px; color: @text-weak; }
            td { border-top: 1px solid @border-color; }
            td:first-child {
                position: relative; pointer-events: none;
                > span { .mx-textellipsis; padding-left: 2px; }
            }
            tr:last-child td {
                border-bottom: 1px solid @border-color;
            }
            td + td { border-left: 1px solid @border-color; text-align: center; }
            td:nth-child(2) { width: 30%; }
            td:nth-child(3) { width: 23%; }
            td.coef {
                width: 1.5rem;
                font-size: 2em;
                padding-top: -3px;
                &.positive { color: lighten(@green-base, 20%); }
                &.negative { color: lighten(@red-base, 20%); }
            }
            td.bar {
                border-top-color: @white-base;
                opacity: .3;
                overflow-y: visible;
                position: relative;
                > span {
                    display: block;
                    position: absolute;
                    left: 0; top: 0; bottom: 0;
                    box-sizing: border-box;
                    border-right: 3px solid @white-base;
                    background: @green-base;
                }
            }
            tr:first-child td.bar { border-top-color: @border-color; }
            code { padding: 1px 4px; font-size: 11px; color: inherit; }

            // not DONE
            > .fh {
                box-sizing: border-box;
                padding: .8rem;
                text-align: center;

                strong {
                    display: block;
                    font-size: 1.6rem;
                    font-weight: inherit;
                    margin: 2em 0 .5em;
                }
            }
            .aborted { background-color: @error-background-light; }
            .error {
                span { white-space: pre-line; }
                a {
                    color: @error-text;
                }
            }
            .train-progress {
                box-sizing: border-box;
                width: 100%;
                text-align: left;
                padding: 16px;
                -webkit-column-count: 2;
                   -moz-column-count: 2;
                        column-count: 2;
                -webkit-column-break-inside: avoid;
                          page-break-inside: avoid;
                               break-inside: avoid;

                white-space: nowrap;

                .text-success { color: inherit; }
            }
            .train-progress__icon  {
                vertical-align: top;
                display: inline-block;
                width: 16px;
            }
            .train-progress__message {
                vertical-align: top;
                display: inline-block;
            }
        }

        .model-train-details-table {
            width: 100%;
            tr td:nth-child(2) {
                font-weight: @font-weight-bold;
                text-align: right;
            }
        }

        .model-snippet-body__details {
            border-left: 1px solid @border-color;
            position: relative;
            padding: 16px;
            box-sizing: border-box;
            height: @model-snippet-height;

            .model-snippet-body__details-active {
                text-align: right;
                h3 {
                    margin: 0;
                }
            }

            .model-snippet-body__details-content {
                align-items: center;
                display: flex;
                flex-direction: column;
                height: 100%;
                justify-content: center;
            }

            .model-snippet-body__description {
                color: @text-weak;
                overflow-y: auto;
                max-height: 60px;
                width: 100%;
            }

            h5 {
                font-size: 1.3rem;
                margin: 0; padding: .45em 3em .4em .4em;
                border-bottom: 1px solid @border-color;
                font-weight: inherit;
                font-style: italic;
            }
            p {
                margin-top: 10px;
                white-space: pre-line;
                max-height: 65px;
                overflow-y: auto;
            }
        }

        .favorite {
            pointer-events: auto;
            display: block; position: absolute;
            top: 0; right: 0;
            height: 1em; width: 2em;
            font-size: 3rem;
            -webkit-transform-origin: 50% 0%;
                    transform-origin: 50% 0%;
            -webkit-transform: translateX(50%) rotate(45deg);
                    transform: translateX(50%) rotate(45deg);

            label:after {
                font-size: 1.2rem;
                top: 1em; right: 2em;
                color: @border-color; content: '\2606';
            }
            :checked + label:after { color: @white-base; content: '\2605'; }
        }
    }

    .model-snippet-body__message {
        align-items: center;
        display: flex;
        flex-direction: column;
        height: 100%;
        justify-content: center;
        padding: 0 8px;
        text-align: center;
        overflow: auto;
    }

    .model-snippet-body__message-title {
        font-size: 18px;
        font-weight: @font-weight-semi-bold;
        margin-top: 0;
        margin-bottom: 0;
    }

    .model-snippet-body__message-logs {
        max-width: 100%;
        overflow: auto;
    }

    // Keras layout variation
    &.model-detailed-item--keras {
        border: 0;
        margin-top: 0;
        box-shadow: none;

        &::after {
            box-shadow: none;
        }

        .model-snippet-body {
            width: 100%;
            margin: 0;
            border: 1px solid @border-color;
            box-sizing: border-box;
        }

        .model-snippet-header {
            background-color: @gray-blue-base;
            color: @white-base;

            .model-snippet-header__name,
            .text-error,
            .text-success,
            .model-snippet-header__metric .icon-trophy,
            .dku-ellipsis-vertical::before {
                color: @white-base;
            }

            .model-snippet-header__star .icon-star-empty {
                color: @white-base;

                &:hover {
                    color: @star-yellow-base;
                }
            }

            .dku-ellipsis-vertical--circle-on-hover:hover {
                background: @gray-blue-lighten-1;
            }
        }
    }
}

.kubernetes-containers-status__progress-ring {
    cursor: pointer;

    .center-value {
        font-size: 13px;
    }

    &--launching {
        stroke: @digital-blue-base;
    }
    &--active {
        stroke: @success-green-base;
    }
    &--dead {
        stroke: @error-red-base;
    }
    &--na {
        stroke: @grey-lighten-7;
    }
}

.models-detailed-item--no-left-border {
    border-left: none;
}

// ML page architecture
.models-page {
    .inline-filter-editor{
        .inline-filter-editor__filter-toggle-wrapper{
            display: flex;
            align-items: center;
            .dku-toggle.dku-toggle{
                top: 0;
            }
        }
    }
    background-color: @grey-background;
    .mx-ssp(13px, @font-weight-normal);
    .list-page-header {
        box-sizing: border-box;
        border-bottom: 1px solid @border-color;
        background: @white-base;

        .models-panes {
            display: inline-block;
            width: 100%;
            height: 40px;
            text-align: center;
            a {
                padding: 10px;
                display: inline-block;
                width: 80px;
                text-transform: uppercase;
                font-weight: @font-weight-semi-bold;
                font-size: 14px;
                color: @green-base;
                &.active {
                    background-color: @green-base;
                    color: @white-base;
                }
            }
        }

        .absolute-left {
            position: absolute;
            left: 10px;
            top: 7px;
        }

        .absolute-right {
            position: absolute;
            right: 10px;
            top: 7px;
        }

        .settings-btn {
            vertical-align: middle;
            .mx-link-nodecoration;
            .mx-ssp(16px, @font-weight-normal);
        }
    }

    .list-page-busy {
        > span {
            display: block;
            text-align: center;
            .mx-ssp(30px, @font-weight-normal);
            color: @grey-lighten-2;
            .moreinfo {
                .mx-ssp(20px, @font-weight-normal);
                margin: 25px 0;
            }
            margin-top: 1em;
            &:first-child { margin-top: 3em; }
        }
    }

    // templates/analysis/clustering|prediction/models-design.html
    .model-design {
        .btn[disabled] {
            opacity: 1;
        }
        .algorithm-detail {
            height: ~"calc(100% - @{design-tab-title-height-with-border})"; // -1 for the border bottom

            .algorithm {
                background: @white-base;
                .algorithm-title {
                    width: calc(~"100% - 75px");
                    display: inline-block;
                    font-size: 1.6em;
                    font-weight: @font-weight-semi-bold;
                    padding-bottom: 10px;
                }
                i.icon-info-sign {
                    cursor: pointer;
                }
                i.icon-remove {
                    cursor: pointer;
                }
                .algorithm-description {
                    margin: 10px;
                    font-size: 0.9em;
                    background: @info-background-light;
                    padding: 15px 15px 5px 15px;
                    border-radius: 5px;
                    color: @info-blue-base;
                    .dku-toggle {
                        margin: 0 10px 0 0;
                    }
                    .description {
                        > * {
                            display: inline;
                        }
                        &.short {
                            height: 16px;
                            overflow: hidden;
                            text-overflow: ellipsis;
                            width: ~"calc(100% - 5px)";
                            white-space: nowrap;
                        }
                    }
                }
                .algorithm-params {
                    padding: 10px;

                    [gs-field] {
                        width: 206px;
                    }

                    &.code-snippet-editor-parent {
                        padding: 0;

                        .control-group {
                            margin-bottom: 0;
                            height: 450px;

                            label {
                                font-weight: @font-weight-bold;
                            }
                        }

                        .code-snippet-editor-header-zone {
                            border: none;
                            border-bottom: 1px solid @border-color;
                        }
                    }

                    div.radio-button-box { width: 206px; display: inline-block; }
                    label.radio { display: inline-block; }

                    .control-group { margin-bottom: 0.8em; }
                    .controls-radio {
                        margin-left: 40px;
                        label {
                            margin-bottom: 0;
                        }
                        input {
                            margin-right: 10px;
                        }
                        small {
                            color: @grey-lighten-6;
                            margin-left: 25px;
                            margin-bottom: 5px;
                            display: inline-block;
                        }
                    }
                    .controls {
                        > *:first-child {
                            width: ~"calc(100% - 20px)!important";
                            display: inline-block;
                        }

                        @change-param-mode-width: 85px;
                        .strategy-mode {
                            > *:first-child {
                                width: ~"calc(100% - @{change-param-mode-width} - 20px)!important";
                                float: left;
                                display: inline-block;

                                .icon-hp-scaling {
                                    font-size: 26px;
                                }
                            }

                            label {
                                margin-bottom: 0;
                                padding-right: 20px;
                            }

                            .change-param-mode {
                                float:right;
                                width: @change-param-mode-width;

                                .icon-hp-mode {
                                    font-size: 22px;
                                    line-height: 22px;
                                    height: 28px;
                                }
                            }

                            .range-field {
                                width: 75px;
                                margin-left: 10px;
                            }

                            .number-no-arrow {
                                /* Chrome, Safari, Edge, Opera */
                                input::-webkit-outer-spin-button,
                                input::-webkit-inner-spin-button {
                                  -webkit-appearance: none;
                                  margin: 0;
                                }

                                /* Firefox */
                                input[type=number] {
                                  -moz-appearance:textfield;
                                }
                            }
                        }

                        position: relative;
                        .multi-valued-field-marker {
                            margin: 7px 2px;
                            font-size: 0.8em;
                            color: @text-weak;
                            display: inline-block;
                        }
                        .help-inline {
                            margin-top: 2px;
                            margin-left: 0;
                            padding-left: 0;
                            color: @grey-lighten-6;
                            width: ~"calc(100% - 20px)";
                            text-align: justify;
                            display: inline-block;
                        }

                        // For simple inputs of automatically generated forms for plugin models.
                        .input-value {
                            input[type="number"], input[type="text"] {
                                width: 100%;
                            }
                        }

                        .ng-invalid {
                            border: 1px solid @error-red-base;
                        }
                    }
                }

                &:not(.enabled) {
                    .algorithm-params {
                        pointer-events: none;
                        opacity: 0.5;
                    }
                }
            }
        }
        .algorithm-list {
            height: ~"calc(100% - @{design-tab-title-height-with-border})"; // -1 for the border bottom
            overflow: scroll;
            border-right: 1px solid @border-color;
            .algorithm-item {
                &.custom {
                    padding: 10px 15px;
                    cursor: pointer;
                    height: 20px;
                    text-align: center;
                }
                height: 40px;
                border-bottom: 1px solid @border-color;
                .alg-name {
                    padding: 10px 15px;
                    cursor: pointer;
                    margin-right: 0;
                    display: inline-block;
                    width: ~"calc(100% - 90px)";
                }
                .dku-toggle {
                    top: 10px;
                    margin-right: 10px;
                    margin-left: 0;
                }
                &.active {
                    background-color: @digital-blue-lighten-5;
                }
            }

            .algorithm-item__icon--plugin-algo {
                margin: 0 4px 0 2px;
                color: @rust-base;
            }
        }

        .design-tab-title {
            border-bottom: 1px solid @border-color;
            color: @text-important;
            font-size: 18px;
            line-height: unit(@design-tab-title-height, px);
            padding: 0 16px;
            height: unit(@design-tab-title-height, px);
        }
    }

    .models-results {
        .left-section-mx {
            margin-right: 5px;
            margin-bottom: 24px;
            margin-left: 24px;
        }
        .diamond {
            color: @text-important;
            &:before {  // diamond (like in flow)
                content: "";
                display: inline-block;
                width: 0.75em;
                height: .75em;
                -webkit-transform: rotate(45deg); transform: rotate(45deg);
                background: currentColor;
                margin-right: .3em;
            }
            &.running {
                color: @digital-blue-base;
            }
            &.border:before {
                border: 2px solid @grey-lighten-3;
                box-sizing: border-box;
                background: none;
            }
        }

        // empty lists
        .empty-mx {
            text-align: center;
            padding: 10px 0;
            div {
                font-size: 14px;
                font-weight: @font-weight-bold;
            }
        }
        .empty {
            margin: 10px auto;
            .empty-mx();
        }

        .session--empty {
            .empty-mx();
            .left-section-mx();
        }

        .table--empty {
            width: calc(~'100% - 10px');
            background-color: @white-base;
            .empty-mx();
        }

        .list--empty {
            > span {
                display: block;
                text-align: center;
                .mx-ssp(30px, @font-weight-normal);
                color: @grey-lighten-2;
                .moreinfo {
                    .mx-ssp(20px, @font-weight-normal);
                    margin: 25px 0;
                }
                margin-top: 1em;
                &:first-child { margin-top: 3em; }
            }
        }

        // templates/analysis/models-table-view.html
        .models-table__container {
            margin: 0px 8px 8px 24px;
        }

        .models-table {

            outline: none;

            .fattable-viewport > div {
                background-color: @white-base;
                border-bottom: solid 1px @border-color;
            }

            .fattable-h-scrollbar {
                overflow-x: auto; // to fix horizontal scrollbar not hiding on firefox
            }

            .model-fav {
                padding-right: 10px;
                margin: 0 auto;
            }

            .model-sel__input {
                margin-bottom: 5px;
                margin-right: 5px;
            }

            .model-sel__icon {
                &.icon-ok {
                    color: @success-text;
                }
                &.icon-warning-sign {
                    color: @warning-text;
                }
                &.icon-spinner {
                    color: @success-text;;
                }
            }

            .models-table__header {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                padding-left: 10px;
                .model-traintime {
                    font-weight: @font-weight-bold;
                }
                .model-name {
                    font-weight: @font-weight-bold;
                }
                .model-metric {
                    font-weight: @font-weight-bold;
                }
                .model-sel__icon.icon-ok {
                    margin-left: 19px;
                    font-size: 14px;
                }

                .model-starred__icon {
                    font-size: 17px;
                }
                .caret {
                    vertical-align: middle;
                }
                .caret-rev {
                    border-top: none;
                    border-bottom: 4px solid @grey-base;
                }
                > span:not(.caret) {
                    display: inline-block;
                    width: 8px;
                    visibility: hidden;
                }

                cursor: pointer;

            }

            .models-table__cell {
                line-height: 36px;
                padding-left: 10px;
                .model-name {
                    font-weight: @font-weight-normal;
                    &:not(.failed) {
                        cursor: pointer;
                    }
                    &.failed {
                        color: @error-red-base;
                    }
                }
                &.selected:not(.running):not(.failed) {
                    background-color: @selected-item-color;
                }
                &.selected.focused:not(.running):not(.failed) {
                    background-color: @selected-focused-item-color;
                }
            }
        }

        // templates/analysis/models-list-view.html
        .models-list-view {
            .session-model-selector {
                padding-left: 20px;
            }

            .session-detail {
                padding: 0 16px;

                .session-detail__tb_loading {
                    background-color: #5f7d8c;
                    width: 100%;
                    height: 64px;
                    text-align: center;
                    color: @white-base;
                    line-height: 64px;
                }
                .session-detail__tb_shadow {
                    width: 100%;
                    box-shadow: rgba(0, 0, 0, 0.4) 0px 5px 6px -3px inset;
                    height: 6px;
                }
                .models-detailed-list {
                    overflow-y: auto;
                    overflow-x: hidden;
                }
                .session-detail-body {
                    background-color: @grey-lighten-1;
                    margin-left: 4px;
                    margin-right: 14px;

                    &.keras-layout {
                        margin-bottom: 0;
                    }

                    .model-score {
                        &.selected {
                            font-weight: @font-weight-bold;
                            color: @blue-selected-color;
                        }
                    }
                    .models-ranking {
                        color: @grey-lighten-6;
                        a { color: inherit; }
                        .icon-dku-weight:before {
                            font-size: 16px;
                        }
                    }

                    &.keras-layout {
                        background-color: @gray-blue-base;
                        position: relative;
                    }
                }
                .session-detail-header {
                    background-color: @grey-lighten-1;
                    font-size: 16px;
                    padding: 8px 16px;
                    margin-left: 4px;
                    margin-right: 14px;

                    .session-name {
                        color: @white-base;
                        text-transform: uppercase;
                    }
                    .session-date {
                        color: @grey-lighten-6;
                        font-style: italic;
                        font-size: 12px;
                        padding-left: 30px;
                    }
                    .session-models {
                        color: @grey-lighten-6;
                        font-style: italic;
                        font-size: 12px;
                        padding-left: 30px;
                    }
                    .session-features {
                        a {
                            color: @grey-lighten-6;
                            text-decoration: none;
                            font-style: italic;
                            font-size: 12px;
                            .caret {
                                border-top-color: @border-color;
                                margin-top: 10px;
                                display: inline-block;
                                margin-left: 5px;
                            }
                        }
                        display: inline-block;
                        padding-left: 30px;
                    }
                    .session-abort {
                        i {
                            font-size: 18px;
                            margin-right: 5px;
                            vertical-align: middle;
                        }
                        color: @white-base;
                        font-size: 12px;
                        vertical-align: middle;
                        text-transform: uppercase;
                    }

                    &.keras-layout {
                        background-color: @gray-blue-base;
                    }
                }
                .btn-deeplearning {
                    background-color: @gray-blue-base;
                    color: @white-base;
                    border: 1px solid @border-color;

                    &:hover {
                        color: @white-base;
                        background: @gray-blue-lighten-1;
                    }
                }
            }

            .session {
                .session-container {
                    background-color : @white-base;
                    box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.2), 0 3px 4px 0 rgba(0, 0, 0, 0.12), 0 2px 4px 0 rgba(0, 0, 0, 0.14);
                }
                &.selected > .session-container {
                    box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.1), 0 8px 7px 0 rgba(0, 0, 0, 0.2);
                }
                background-color: @grey-background;
                .left-section-mx();

                input[type=checkbox] {
                    margin: 0;
                    vertical-align: baseline;
                }

                .session-title {
                    padding: 4px 10px;
                    height: 28px;
                    line-height: 28px;
                    border-bottom: 1px solid @grey-lighten-7;

                    div.pull-right span {
                        display: inline-block;
                        width: 20px;
                        text-align: center;
                        line-height: 26px;
                        margin-right: 4px;
                    }

                    .session-date {
                        width: auto!important;
                        color: @grey-lighten-6;
                        font-size: 12px;
                    }

                    .title {
                        text-transform: uppercase;
                        font-weight: @font-weight-semi-bold;
                        margin-left: 10px;
                    }

                    .session-running {
                        padding-right: 10px;
                        color: @white-base;
                        line-height: 26px;
                        i {
                            margin-left: 5px;
                        }
                    }

                    .btn-abort {
                        border: 1px solid @error-red-base;
                        background: none;
                        color: @error-red-base;
                        font-weight: @font-weight-bold;
                        font-size: 11px;
                        height: 20px;
                        line-height: 18px;

                        &:hover {
                            background-color: @error-red-base;
                            color: @white-base;
                        }
                    }
                }
                ul {
                    margin-top: 5px;
                    list-style: none;
                    margin: 0;
                    background-color: @white-base;
                    .model {
                        &.focused {
                            background-color: @model-focused-color;
                        }
                        &.selected {
                            background-color: @selected-item-color;
                        }
                        &.failed {
                            color: @error-red-base;
                        }
                        &.session-focused:not(:last-child) {
                            border-bottom: 1px solid @border-color !important;
                        }
                        .model-name {
                            height: 20px;
                            padding-left: 5px;
                            padding-right: 9px;
                        }
                        input {
                            height: 20px;
                        }

                        .icon-dku-weight:before {
                            font-size: 15px;
                        }

                        span:not(.model-name) {
                            //display: inline-block;
                            text-align: center;
                            &.running {
                                color: @success-text;
                            }
                        }

                        .metric-container {
                            margin-right: 10px;
                            .icon-trophy {
                                color: @star-yellow-base;
                                padding-right: 5px;
                            }
                            .icon-info-sign {
                                color: @grey-lighten-4;
                            }
                        }

                        .dku-loader {
                            margin-right: 2px;
                            text-align: center;
                        }

                        padding: 7px 10px;
                        &:not(:last-child) {
                            border-bottom: 1px solid @border-color;
                        }
                    }
                }
            }
        }

        // templates/analysis/models-snippets-view.html
        .models-snippets-view {
            // old .model-snippets.model-snippets
            .model-snippets {
                margin-left: 20px;
                margin-right: 10px;
                > li { list-style: none; }

            }
        }

        // /templates/analysis/models-header.html
        .models-header {// BOTH
            .models-list-filter-popover {
                max-width: 600px;
            }
            a.refresh-button {
                margin-right: 5px;
                font-size: 15px;
                vertical-align: middle;
                text-decoration: none;
            }
            .btn-doctor-switch {
                background: none;
                margin: 0;
                box-shadow: none;
                &.btn--active {
                    background-color: @green-base;
                    color: @white-base;
                }
            }
            // old list-header
            .mass {
                width: 48px;
                text-align: center;
                display: inline-block;
            }

            padding: 16px 24px;

            > h2 { float: left; font-weight: @font-weight-normal; font-size: 1.5em; margin: 0 1em; line-height: 1; }
            .list-sort-box { .mx-list-sort-box(130px); }
        }

    }

    .gsField .tag {
        background-color: #4385ac;
    }

    .gsField.gsField--not-grid .tag {
        background-color: #1f8647;
    }
}

.models-pane__link-std--disabled {
    padding: 10px;
    display: inline-block;
    width: 80px;
    text-transform: uppercase;
    font-weight: @font-weight-semi-bold;
    font-size: 14px;
    color: @green-base;
    cursor: not-allowed;
    color: @text-disabled;
}

.keras-epoch-progress__container {
    position: absolute;
    .transition(~"all 0.25s ease-out");

    &.center {
        left: 41.66667%;
    }

    &.right {
        left: 83.333%;
    }
}

@keyframes kerasMovingGradient {
  0% {
    background-position: 0px 0;
  }
  100% {
    background-position: 100em 0;
  }
}

.keras-currently-training {
  animation-duration: 8.5s;
  animation-fill-mode: forwards;
  animation-iteration-count: infinite;
  animation-name: kerasMovingGradient;
  animation-timing-function: linear;
  background: #AABFCA;
  background: linear-gradient(to right, #5F7D8C 0%, #AABFCA 50%, #5F7D8C 100%);
  height: 3px;
  width: 170px;
  margin: 5px auto 0 auto;
  -webkit-backface-visibility: hidden;
}

.keras-wait-for-results-or-failed__container {
    width: 100%;
    height: 165px;
    padding-top: 90px;
    text-align: center;
    vertical-align: middle;
    color: @grey-lighten-7;
}

.computation-params-gear {
    font-size: 1.8em;
    color: @grey-lighten-4;
    margin-left: 10px;
    cursor: pointer;
}

.computation-params-gear--left {
    margin-right: 10px;
}

.computation-params-gear:hover {
    color: @grey-lighten-2;
}

/***** Subpopulation tab in prediction report *****/

@subpopulation-hp: 20px;

.subpopulation-page {
    display:flex;
    flex-direction: column;
}

.post-train-weights-explanation {
    margin: 15px @subpopulation-hp 10px @subpopulation-hp;
}

.post-train-variable-selection {
    padding: 20px @subpopulation-hp 15px @subpopulation-hp;
    display: flex;
    align-items: center;
    button {
        margin-left: 5px;
    }
}

.post-train-variable-selection__select-text {
    margin-right: 5px;
}

.subpopulation-params__search {
    margin-left: auto;
    input {
        width: 300px;
    }
}

.partitioned-model__search--wide {
    input {
        width: 250px;
    }
}

.partitioned-model__summary-header {
    font-size: 15px;
    padding: 10px 25px 10px 1px;
}

@subpop-table-variable-cell-width: 225px;

.subpopulation-results__table-wrapper {
    width: 100%;
    box-sizing: border-box;
    border-bottom: 1px solid @border-color;
    border-top: 1px solid @border-color;
    &.table-row:hover {
        cursor: pointer;
        background-color: @grey-lighten-7;
    }
}

.subpopulation-value--scrolling {
    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.4);
    border-bottom: 1px solid @border-color;
}

@subpop-table-row-height: 41px;

.subpop-table-header {
    height: @subpop-table-row-height;

    padding-right: 10px;
    padding-top: 3px;
    padding-bottom: 3px;
    font-weight: @font-weight-bold;

    display: flex;
}

.subpop-table-header__column {
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    text-align: right;

    &.subpop-table__information--modality {
        text-transform: capitalize;
    }
}

.subpop-table__highlited-column-wrapper {
    display: flex;
    flex-direction: row;
    justify-content: flex-start;
    text-align: left;
}

.subpop-table__highlited-column-content {
    padding-left: 3px;
}

.subpop-table--model-class-font {
    font-family: Monaco, Menlo, Consolas, "Courier New", monospace;
    font-weight: @font-weight-normal;
}

.subpop-table-metric {
    .icon-info-sign {
        color: @grey-lighten-4;
    }
    max-width: 120px;
    flex: 1 0 60px;
}

.subpop-table-header__model-metric-column {
    .mx-textellipsis;
    display: flex;
    justify-content: flex-end;
    flex-direction: row;
}

.subpop-table-header__model-metric-column-content {
    padding-left: 3px;
    text-align: left;
}

.subpop-table--highlited {
    width: 120px;
}

.subpop-table__information {
    padding-left: @subpopulation-hp;
    box-sizing: border-box;
    font-weight: @font-weight-bold;
    text-align: left;
    width: 150px;

    &.subpop-table--value {
        display: flex;
    }

    &.subpop-table__header-column {
        text-align: left;
    }
}

.subpop-table__information--modality {
    width: @subpop-table-variable-cell-width;
    font-weight: @font-weight-bold;
}

.subpop-table__information--small {
    width: 100px;
}

.subpop-table__information--big {
    width: 200px;
}

.subpop-table--modality-percentage {
    flex: 0 0 32px;
    text-align: left;
}

.subpop-table-row {
    height: @subpop-table-row-height;
    padding-right: 10px;
    line-height: @subpop-table-row-height;
    display: flex;

    &.subpop-modality--excluded {
        opacity: 0.5;
    }

    &:not(.subpop-modality--excluded) {
        cursor: pointer;
        &:hover {
            background-color: @grey-lighten-7;
        }
    }
}

.subpop-table-row__highlighted-column {
    display: flex;
    font-size: 16px;
    flex-direction: row;
    justify-content: center;
}

.subpop-table-row__highlighted-column-percentage {
    flex: 0 0 45%;
    text-align: right;
}

.subpop-table-row__highlighted-column-comparison {
    opacity: 0;
    font-size: 12px;
    flex: 0 0 45%;
    text-align: right;

    .icon {
        font-size: 12px;
    }

    &.above {
        opacity: 1;
        .text-success;
    }

    &.below {
        opacity: 1;
        .text-error;
    }
}

.subpop-table-no-result {
    padding-left: 15px;
}

.subpop-border-bottom {
    border-bottom: 1px solid @border-color;
}

.subpop-border-right {
    border-right: 1px solid @border-color;
}

.subpopulation-results {
    width:100%;
    box-sizing: border-box;
    flex: 1;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.subpopulation-modalities__wrapper {
    box-sizing: border-box;
    overflow: auto;
    flex:1;
}

.post-train-results__number {
    font-size: 15px;
    padding: 10px @subpopulation-hp;
    border-bottom: 1px solid @border-color;
    border-top: 1px solid @border-color;
}

.subpopulation-displayed-metrics {
    float: right;
    text-transform: uppercase;
    font-weight: @font-weight-bold;
    font-size: 13px;
    cursor: pointer;

    .caret {
        vertical-align: middle;
    }
}

.subpopulation-value {
    box-sizing: border-box;
    width: 100%;
    z-index: 0;
    position: relative;

    &.subpopulation-value--alldataset,&:nth-child(even) {
        background-color: @grey-background;
    }
    &.subpopulation-value--alldataset {
        z-index: 10;
    }
}

.subpopulation-modality__wrapper {
    box-sizing: border-box;
    width: 100%;
}

.subpopulation-modality__expand {
    padding: 15px @subpopulation-hp 15px @subpop-table-variable-cell-width;
    box-sizing: border-box;
    width: 100%;
}

.subpopulation-modality__charts {
    height: 235px;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    width: 100%;
}

.subpopulation-modality__charts--auto {
    height: auto;
}

.subpopulation-modality__charts-display {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    width: 100%;
}

@subpopulation-modality-block-flex: 0 0 45%;

.subpopulation-modality__chart-display {
    flex: @subpopulation-modality-block-flex;
    color: @text-weak;

    // Override very strong rule of dku-bs-select for custom styling of selector under subpopulation charts
    .bootstrap-select:not([class*="span"]):not([class*="col-"]):not([class*="form-control"]):not(.input-group-btn) {
        width: inherit;
        button.btn-default {
            border: none;
            background: inherit;
            font-weight: @font-weight-bold;
            color: @text-weak;
        }
    }
}

.subpopulation-modality-table {
    flex: @subpopulation-modality-block-flex;
}

.subpopulation-modality-graph {
    flex: @subpopulation-modality-block-flex;
    height: 235px;

    .subpopulation-modality-graph--confusion{
        // Need to overwrite some default values of .confusion-matrix
        .confusion-matrix {
            margin-bottom: 0;
            background-color: inherit;
        }
    }

    .subpopulation-modality-graph--proba {
        padding-top: 0;
        height: 235px;
    }
}


.post-train-empty-state {
    margin: 150px auto;
    width: 630px;
    text-align: center;
    color: @text-weak;
}

.post-train-empty-state__title {
    font-size: 32px;
    margin-bottom: 16px;
}

.post-train-empty-state__explanation {
    font-size: 22px;
    margin-bottom: 20px;
    line-height: 33px;
    word-spacing: 3px;
}


.post-train-empty-state__btn {
    margin-top: 15px;
}

.savedmodels-page {
    background-color: @grey-background;
    .mx-ssp(13px, @font-weight-normal);

    // /templates/analysis/models-header.html
    .models-header {// BOTH
        a.refresh-button {
            margin-right: 5px;
            font-size: 15px;
            vertical-align: middle;
            text-decoration: none;
        }
        .models-list-filter-popover {
            max-width: 600px;
        }
        .btn-doctor-switch {
            background: none;
            margin: 0;
            box-shadow: none;
            &.btn--active {
                background-color: @success-background-light;
                color: @white-base;
            }
        }
        // old list-header
        .mass {
            width: 48px;
            text-align: center;
            display: inline-block;
        }

        padding: 10px;

        > h2 { float: left; font-weight: @font-weight-normal; font-size: 1.5em; margin: 0 1em; line-height: 24px; }
        .list-sort-box { .mx-list-sort-box(130px); }
    }

    .model-snippet-list {
        list-style: none;
        margin: 0 16px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    &__no-model-train-button {
        margin: 20px;
    }
}

.explanation-banner {
    height:17px;
    margin-bottom: 15px;
}

.pdp-right-panel {
    padding: 15px;
}

.pdp-chart {
    margin-top: 30px;
    padding-left: 15px;
    path.domain {
        stroke-width: 2px;
    }
    .nv-axislabel {
        font-size: 14px;
    }

    .nv-axis.nv-x.nv-x path.domain {
        stroke-opacity: unset;
        color: black;
    }
}

.pdp__computation-details {
    font-size: 15px;
    margin-top: 20px;
    padding: 10px;
    border-top: 1px solid @border-color;
    border-bottom: 1px solid @border-color;

}

.pdp-btn-compute-all {
    margin-left: 10px;
}

.doctor-explanation--pdp {
    height: unset;
    margin: 15px 0px 15px 15px;
    position: relative;
    color: @warning-text;
    background-color: @warning-background-light
}

.line-chart-brush {
    .nv-axis .tick line {
        display: none;
    }
}

.line-chart-brush__left {
    .extent {
        fill: @custom-ml-chart-blue;
        fill-opacity: 0.4;
    }
    .resize.e rect {
        fill: @custom-ml-chart-blue;
        fill-opacity: 1;
    }
}

.line-chart-brush__right {
    .extent {
        fill: @custom-ml-chart-orange;
        fill-opacity: 0.4;
    }
    .resize.w rect {
        fill: @custom-ml-chart-orange;
        fill-opacity: 1;
    }
}

.low-prediction-color {
    color: @custom-ml-chart-blue;
}

.high-prediction-color {
    color: @custom-ml-chart-orange;
}

.explanation-card {
    box-shadow: 1px 2px 3px 0px fade(@grey-base, 20%);
    margin: 15px 10px 10px 10px;
}

.predictions-cards--low {
    .explanation-card {
        border-top: 5px solid @custom-ml-chart-blue;
    }
    .explanation-card__prediction {
        color: @custom-ml-chart-blue;
    }
}

.predictions-cards--high {
    .explanation-card {
        border-top: 5px solid @custom-ml-chart-orange;
    }
    .explanation-card__prediction {
        color: @custom-ml-chart-orange;
    }
}

.explanation-card-header {
    margin: 10px 15px 15px 15px;
    min-height: 30px;
}

.explanation-card-header__id {
    max-width: 400px;
}

.explanation-card__title {
    font-weight: @font-weight-semi-bold;
    font-size: 18px;
    .text-overflow();
}

.explanation-card__subtitle {
    font-size: 12px;
    color: @grey-lighten-5;
}

.explanation-card-body {
    border-top: 1px solid @grey-lighten-7;
}

.table.explanations-table {
    max-width: unset;
    margin-bottom: 0px;
    th {
        font-weight: @font-weight-normal;
        font-size: unset;
        padding: 3px;
        border-top: unset;
        .text-overflow();
    }
}

.explanations-cell--large.explanations-cell--large.explanations-cell--large {
    font-size: 16px;
}

.explanation-card-body__caret {
    font-weight: @font-weight-semi-bold;
    font-size: 14px;
    padding: 10px 15px;
    iÂ {
        margin-right: 10px;
    }

    &:hover {
        cursor: pointer;
    }
    .unselectable;
}

.explanation-card__explanation-bar {
    height: 15px;
    margin-left: 10px;
    margin-top: 3px;
}

.explanation-bar--large {
    height: 20px;
}

.identifier-selector {
    white-space: nowrap;
    margin-right: 10px;
    display: flex;
    align-items: center;
}

.identifier-selector__label {
    margin-right: 10px;
    font-size: 14px;
}

.brush-checkboxes {
    margin-left: 70px;
    margin-right: 30px;
    margin-top: -30px;
    margin-bottom: 10px;
}

.brush-checkboxes__label {
    margin-bottom: 0px;
}

.brush-checkboxes__checkbox--left {
    float: left;
    display: flex;
}

.brush-checkboxes__checkbox--right {
    float: right;
    display: flex;
}

.brush-checkboxes__label {
    margin-left: 10px;
    .unselectable;
}

.explanation-params-inline {
    display: flex;
    align-items: center;
    margin-right: 20px;
}

.explanation-params-inline__number-input.explanation-params-inline__number-input {
    width: 30px;
    margin: 10px;
    height: 12px;
}

.explanation-params-inline__sentence {
    margin-right: 10px;
}

.explanation-row-count--left {
    color: @custom-ml-chart-blue;
    float: left;
    margin-left: 85px;
}

.explanation-row-count--right {
    color: @custom-ml-chart-orange;
    float: right;
    margin-right: 30px;
}

.explanation-params-inline__class-selector {
    display: flex;
    align-items: center;
    margin-left: 5px;
    margin-right: 5px;
    .btn-group.btn-group.btn-group {
        margin-left: 10px;
    }

}

.individual-explanations-form {
    margin-bottom: 10px;
}

.explanation-params-inline__method {
    display: flex;
    align-items: center;
    margin-right: 15px;
    input {
        margin: 0;
        margin-left: 5px;
    }
    label {
        margin: 0;
        margin-right: 15px;
    }
}

.doctor-explanation--explanations {
    width: 50%;
    margin: auto;
    margin-top: 20px;
}

.post-train-empty-state--expalation {
    width: unset;
}

.export-btn--explanations {
    margin-right: 10px;
}

.explanation-action-bar {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    margin-bottom: 10px;
    margin-top: 15px;
}

.ml-guess-policy-switch {
    font-weight: @font-weight-semi-bold;
    text-transform: uppercase;
}


.guess-policies-group {
    display: grid;
    grid-template-columns: 105px 1fr;
}

.guess-policies-group__image {
    background-color: @grey-background;
    border-radius: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 120px;
    margin-top: 40px;
    width: 120px;

    img {
        width: 60px;
    }
}

.guess-policies-group__title {
    color: @text-weak;
    font-size: 22px;
}

.guess-policies-group__description {
    color: @text-weak;
    font-size: 13px;
    margin-left: 8px;
}

.guess-policies-cards {
    display: flex;
    margin-bottom: 32px;
    margin-top: 16px;
    height: 120px;
}

.guess-policy-card {
    .mx-selector-item();
    background-color: @white-base;
    border: 1px solid @border-color;
    cursor: pointer;
    display: grid;
    grid-template-columns: 70% 30%;
    min-height: 86px; // Prevents bad flexbox height computed by FF from being applied
    height: 86px;
    margin: 0;
    overflow-x: hidden;
    padding: 16px;
    position: relative;
    width: 240px;

    &.selected .guess-policy-card__image {
        filter: none;
    }

    &:hover, &.selected {

        .guess-policy-card__backend {
            visibility: visible;
        }
    }

    +.guess-policy-card  {
        margin-left: 16px;
    }
}

.guess-policy-card__image {
    align-items: center;
    display: flex;
    filter: grayscale(1);
    margin-left: 4px;
    height: inherit;

    img {
        max-width: unset;
        height: 100%;
        max-height: 100%;
    }
}

.guess-policy-card__title {
    font-size: 14px;
    font-weight: @font-weight-bold;
    line-height: 18px;
    margin-top: 0;
    margin-bottom: 4px;
}

.guess-policy-card__description {
    color: @text-weak;
    font-size: 12px;
    font-weight: @font-weight-normal;
    line-height: 16px;
}

.guess-policy-card__backend {
    bottom: 8px;
    left: 16px;
    position: absolute;
    visibility: hidden;
    width: 100%;
}

.guess-policy-card__backend-title {
    color: @digital-blue-base;
}

input[type="text"].guess-policy-name-input {
    .mx-std-input-base;
    width: 400px;
}

.target-bs-select {
    .filter-option {
        max-width: 500px;
    }
}

.dku-code--neutral {
    font-size: 11px;
    color: @grey-lighten-2;
}

@drift-current: #1F77B4;
@drift-reference: #FF7F0E;

@drift-value-color: #EFA83E;
@drift-vertical-padding: 20px;

.drift-reference-selection-table {
    width: 100%;
    overflow: auto;
    margin-top: 20px;

    &__table {
        min-width: 100%;
        border-collapse: separate;
        position: relative;
        border-top: 1px solid @grey-lighten-7;
    }

    &__head, &__cell, &__sticky {
        border-bottom: 1px solid @grey-lighten-7;
        text-align: left;
        padding: 5px 10px;
        background-color: white;
    }

    &__sticky {
        position: sticky;
        top: 0;
    }

    &__head, &__sticky {
        white-space: nowrap;
    }
}

.prediction-drift .prediction-drift__reference-label, .data-drift .data-drift__reference-label {
    font-style: normal;
    font-weight: @font-weight-bold;
}

.data-drift {
    overflow-y: hidden;
}

.data-drift .univariate-drift {
    &:extend(.vertical-flex);
    padding-top: @drift-vertical-padding;
    padding-bottom: @drift-vertical-padding;
}

.univariate-drift .univariate-drift-header {
    &:extend(.horizontal-flex);
    justify-content: space-between;
    align-items: center;
}

.univariate-drift__max-values {
    width: 30px;
}

.univariate-drift__color-codes {
    display: flex;
    width: 200px;
    height: 20px;
    align-items: center;
    overflow: hidden;
}

.univariate-drift__color-codes .univariate-drift__color-span {
    display:block;
    flex-grow: 0;
    height: 20px;
    width: 20px;
    margin:auto;
    text-align:center
}

.univariate-drift-features__table.univariate-drift-features__table {
    max-width: none;
}

.univariate-drift-features__table td {
    vertical-align: middle;
    height: 60px;
}

.univariate-drift-features__graph {
    padding-top: 0;
    width: 250px;
    height: 50px;
}

.data-drift .feature-drift-importance {
    &:extend(.vertical-flex);
    margin-top: 20px;
}

.feature-drift-importance .feature-drift-importance-body {
    height: 400px;
}

.feature-drift-importance .feature-drift-importance-header {
    &:extend(.horizontal-flex);
    justify-content: space-between;
    align-items: center;
}

.perf-drift-density__chart {
    height: 500px;
}

.drift-current-reference-action {
    margin-bottom: 15px;
    display: flex;
    align-items: middle;
}

.drift-current-reference-table {
    min-width: 100%;
    thead {
        &:first-child {
            tr {
                &:first-child {
                    th:not(:first-child) {
                        border: 1px solid @border-color;
                        font-weight: @font-weight-bold;
                        font-size: 16px;
                        text-align: center;
                        &:empty {
                            border: none;
                        }
                        &.current {
                            border-top: 6px solid @drift-current;
                            vertical-align: baseline;
                        }
                        &.reference {
                            border-top: 6px solid @drift-reference;
                            vertical-align: baseline;
                        }
                    }
                }
            }
        }
    }
    tr {
        td, th {
            font-size: 13px;
            border: 1px solid @border-color;
            &.title {
                font-weight: @font-weight-normal;
                color: #000000;
                border-left: none;
            }
            &.first {
                border-right: none;
            }
            &.data {
                font-weight: @font-weight-bold;
                text-align: left;
                width: 33%;
            }
        }
    }
}
.drift-score-podium {
    max-width: 600px;
}

.drift-score-podium__container {
    align-items: flex-end;
    display: flex;
    justify-items: center;
    flex-direction: row;
    padding: 20px;
    border: 1px solid @grey-lighten-7;
}

.drift-score-podium__section {
    flex: 1;
    text-align: center;
}

.drift-score-podium__chevron {
    margin-top: auto;
    margin-bottom: auto;
}


.drift-score-table.drift-score-table {
    border: 1px solid @grey-lighten-7;
    max-width: 600px;
    width: 100%;

    td {
        .dku-text-sb;
        text-align: right;
    }
    th {
        .dku-text;
        text-align: left;
    }
    th, td {
        padding: 10px;
        border-top: 1px solid @grey-lighten-7;
    }
}

/*
    Interactive Scoring
*/
.interactive-scoring__main:focus {
    outline: none;
}

.interactive-scoring__controls {
    flex: 0 0 28%;
    border-right: 1px solid @border-color;
    min-width: 0;
    max-width: 360px;
}

.interactive-scoring__heading {
    padding: 24px 24px 0 24px;
}

.interactive-scoring__search-box {
    display: flex;
    margin-top: 15px;
    margin-bottom: 15px;
}

.interactive-scoring__prep_steps_toggle.interactive-scoring__prep_steps_toggle {
    margin-left: 0px;
    margin-right: 5px;
    vertical-align: text-bottom;
}

.interactive-scoring__search-bar.interactive-scoring__search-bar {
    width: 100%;
    min-width: 0;
}

.interactive-scoring__datepicker {
    .daterangepicker {
        .calendar.right {
            display: none;
        }
    }
    .theInputÂ {
        width: 100%;
        height: 26px;
        line-height: 26px;
        box-sizing: border-box;
    }
}

.interactive-scoring__header.interactive-scoring__header {
    font-weight: @font-weight-normal;
    margin: 0 0 16px;
    line-height: 24px;
}

.interactive-scoring__prediction-header {
    padding-top: 10px;
}


.interactive_scoring__greyed-feature {
    color: @grey-lighten-4;
}

.interactive-scoring__probability {
    font-size: 16px;
}

.interactive-scoring__subheader {
    font-weight: @font-weight-semi-bold;
}

.interactive-scoring__subheader.interactive-scoring__subheader {
    margin: 0;
}

.interactive-scoring__subheader + .interactive-scoring__subheader {
    margin-top: 8px;
}

.interactive-scoring__info-text {
    font-size: 16px;
    margin: 8px 0;

    &:last-child {
        margin-bottom: 0;
    }
}

.interactive-scoring__spinner-container {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(255, 255, 255, 0.5);
    height: 100%;
    width: 100%;
    top: 0;
    bottom: 0;
    right: 0;
    left: 0;
} 

.interactive-scoring__spinner {
    width: 50px;
    height: 50px;
}

.interactive-scoring__empty-state {
    display: flex;
    flex-direction: column;
    width: auto;
    margin: 0;
    align-items: center;
    justify-content: center;
    height: 100%;
}

.interactive-scoring__control-body {
    padding: 0 24px;
}

.interactive-scoring__feature-name {
    font-weight: 500;
    margin-top: 15px;
    margin-bottom: 5px;
}

.interactive-scoring__control-container {
    display: flex;
}

.interactive-scoring__control {
    flex: 1;
    min-width: 0;
}

.interactive-scoring__slider.interactive-scoring__slider {
    .dku-slider {
        margin-bottom: 0;
    }
}

.interactive-scoring__input.interactive-scoring__input {
    margin: 0;
    height: 26px;
    line-height: 26px;
    width: 100%;
    box-sizing: border-box;
}

.interactive-scoring__dropdrown.interactive-scoring__dropdrown {
    margin: 0;
}

.interactive-scoring__edit-modes-btn.interactive-scoring__edit-modes-btn {
    flex: 0 0 89px;
    margin-left: 15px;
    text-align: right;
}

.interactive-scoring__edit-icon {
    position: relative;
    top: 1px;
    left: 2px;
}

.interactive-scoring__menu {
    border-top: 1px solid @border-color;
    border-bottom: 1px solid @border-color;
    padding: 8px 0;
    text-align: right;
}

.interactive-scoring__more-actions {
    display: inline-block;
}

.interactive-scoring__results {
    flex: 3;
    padding: 24px;
    padding-top: 15px;
}

.interactive-scoring__results-header {
    margin-bottom: 8px;
    border-bottom: 1px solid @border-color;
}

.interactive-scoring__results-body {
    padding: 16px 0;
    height: 250px;
    max-height: 250px;
    position: relative;
}

.interactive-scoring__results-body--explanations {
    height: auto;

    .interactive-scoring__empty-state {
        margin-top: 48px;
    }
}

.interactive-scoring__empty-score {
    margin: 80px auto;
}

.interactive-scoring__empty-bucket {
    display: block;
    margin-left: auto;
    margin-right: auto;
}

.interactive-scoring__prediction {
    font-weight: @font-weight-semi-bold;
    color: @digital-blue-base;
}

.interactive-scoring--greyed {
    font-weight: @font-weight-normal;
    color: @grey-lighten-5;
}

.interactive-scoring__bucket-empty-item {
    text-align: center;
}

.interactive-scoring__threshold {
    font-size: 14px;
    margin-right: 8px;
}

.interactive-scoring__area--left {
    fill: @custom-ml-chart-blue;
    fill-opacity: 0.4;
}

.interactive-scoring__area--right {
    fill: @custom-ml-chart-orange;
    fill-opacity: 0.4;
}

.interactive-scoring__compare-heading {
    border-bottom: 1px solid @border-color;
    justify-content: space-between;
    padding: 24px 24px 16px 24px;
}

.interactive-scoring__bucket {
    overflow-y: auto;
}

.interactive-scoring__bucket-item {
    opacity: 1;
    transition: width 500ms;
    width: 295px;

    &--removing {
        opacity: 0;
        width: 0;
    }

    &:first-child {
        padding-left: 0;
    }
}

.interactive-scoring__bucket-section {
    padding: 16px 0;
    border-bottom: 1px solid @border-color;
    display: flex;
    justify-content: space-between;
}

.interactive-scoring__bucket-section--sub {
    padding-bottom: 8px;
}

.interactive-scoring__bucket-title {
    width: 220px;
}

.interactive-scoring__bucket-chart {
    height: 24px;
    width: 100%;
}

.interactive-scoring__bucket-body {
    margin: 16px 0 0;
    padding-bottom: 16px;
}

.interactive-scoring__features-caret {
    font-weight: 500;
    font-size: 14px;
    margin-top: 30px;
}

.interactive-scoring__features-caret--comparator {
    margin-top: 20px;
}

.fade-out.ng-leave {
    transition:0.5s linear all;
    opacity:1;
}

.fade-out.ng-leave.ng-leave-active {
    opacity:0;
}
.prediction-chart {
    .tick line {
        display: none;
    }
}

.prediction-chart__legend-label {
    font-size: 13px;
}

.prediction-chart__legend-threshold {
    stroke: @grey-base;
    stroke-width: 1px;
}

.prediction-chart__tooltip {
    padding: 8px;
}
