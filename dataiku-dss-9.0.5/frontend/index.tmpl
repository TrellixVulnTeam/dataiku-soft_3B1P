<!DOCTYPE html>
<% print("<!-- This file is autogenerated, do not edit manually -->"); %>

<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <title>Dataiku</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <link rel="shortcut icon" href="/favicon.ico?v=3" />

        <script type="text/javascript">
            if (navigator.appName == 'Microsoft Internet Explorer' ||
                 navigator.appVersion.indexOf('Trident') > -1) {
                alert("DSS does not support Internet Explorer. Please use Firefox or Chrome");
            } else if (navigator.appName == "Netscape" &&
                         navigator.appVersion.indexOf('Edge') > -1) {
                alert("DSS does not officially support Edge. Various issues may happen. Please use Firefox or Chrome");
            }
        </script>

        <script type="text/javascript">
            var _wt1Q = _wt1Q || [];
            var devInstance = <%= grunt.config("isDev") ? "!localStorage.forceRollbar" : "false" %>;
        </script>

        <script src="/bower_components/jquery/dist/jquery.min.js"></script>
        <script src="/bower_components/d3/d3.js"></script>
        <!-- scrollable and sortable -->
        <script type="text/javascript" src="/bower_components/jquery-ui/jquery-ui.js"></script>

        <!-- Core CSS -->
        <%
            var isBrowserLess = grunt.config("isBrowserLess");
            if (isBrowserLess) {
                print(' <link href="/static/dataiku/css/style.less" rel="stylesheet/less" type="text/less">\n');
                print(' <script type="text/javascript">less = { env: \'development\' };</script>\n');
                print('<script src="/static/less-1.3.3.min.js" type="text/javascript" charset="utf-8"></script>\n');
            } else {
                print(' <link href="/static/dataiku/css/style.css" rel="stylesheet" type="text/css">\n');
            }
        %>

        <script type="text/javascript" src="/bower_components/fattable/fattable.js"></script>




        <!-- JS Packs -->
        <%
            var jsPacks = grunt.config('jsPacks');
            var isConcat = grunt.config("isConcat");
            var packNames = Object.keys(jsPacks);
            for (var i in packNames) {
                var packName = packNames[i];
                var packDef = jsPacks[packName];
                if (isConcat) {
                    print('<script src="/' + packDef.dest + '" type="text/javascript" charset="utf-8"></script>\n');
                } else {
                    for (var j  = 0; j < packDef.src.length; j++) {
                        print('<script src="/' + packDef.src[j] + '" type="text/javascript" charset="utf-8"></script>\n');
                    }
                }
            }
        %>
        <!-- CSS Packs -->
        <%
            var cssPacks = grunt.config('cssPacks');
            var isConcat = grunt.config("isConcat");
            var packNames = Object.keys(cssPacks);
            for (var i in packNames) {
                var packName = packNames[i];
                var packDef = cssPacks[packName];
                if (isConcat) {
                    print('<link rel="stylesheet" href="/' + packDef.dest + '" />\n');
                } else {
                    for (var j  = 0; j < packDef.src.length; j++) {
                        print('<link rel="stylesheet" href="/' + packDef.src[j] + '"/>\n');
                    }
                }
            }
        %>

        <!-- charts.css MUST remain a separate file. See chart_views.js for an explanation -->
        <link href="/static/dataiku/css/charts.css" rel="stylesheet" type="text/css">

        <link href="/static/platypus/css/style.css" rel="stylesheet" type="text/css" />

        <!-- Graphing -->
        <link rel="stylesheet" href="/bower_components/nvd3/build/nv.d3.css">
        <script type="text/javascript" src="/bower_components/nvd3/build/nv.d3.js"></script>
        <script>window.L_PREFER_CANVAS = true;</script>

        <link rel="stylesheet" href="/bower_components/leaflet/leaflet.css" />
        <script src="/bower_components/leaflet/leaflet.js"></script>
        <script src="/bower_components/Leaflet.heat/dist/leaflet-heat.js"></script>

        <!--<script src="/static/third/dku-raygun.vanilla.js"></script>-->

        <style>
            .CodeMirror {
                font-family : 'Lucida Console', monospace;
                line-height: 1.1;
            }
        </style>

        <%
            var isPrecompiledTemplates = grunt.config("isPrecompiledTemplates");
            if (isPrecompiledTemplates) {
                print(' <script src="/templates.js"></script>\n');
            }
        %>

        <script type="text/javascript" src="/bower_components/angular-ui-sortable/sortable.min.js"></script>


    <!-- FreshDesk cannot be loaded asynchronously because it puts a callback onload. Thus we ship it ourselves
      so that it alays work even with no network access -->
    <%
    if (!grunt.config("isDev")) {
    	print('<script type="text/javascript" src="/static/freshwidget.js"></script>');
    } else {
        print('<!-- dev instance, not freshdesk widget -->');
    }
    %>

    </head>
    <body ng-controller="DataikuController" ng-class="{'full-screen':isFullScreen()}">
        <base href="/" /> <!-- Required by angular -->
        <div include-no-scope="/main.html" id="root-dom-element"></div>
        <!-- new Angular, be careful, it might totally break if you move this to head -->
        <!-- include: "type": "js", "files": "static/dataiku/ng-dist/*.js" -->
        <script src="ngxdist/polyfills.js"></script>
        <script src="ngxdist/main.js"></script>
        <script src="ngxdist/runtime.js"></script>

        <script src="ngxdist/vendor.js"></script>
        <link href="ngxdist/styles.css" rel="stylesheet" type="text/css" />

    </body>
</html>
